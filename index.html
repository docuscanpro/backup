<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO & Acessibilidade --><title>Portal de Enfermagem - Ferramentas, Carreiras e Conteúdo</title>
    <meta name="description" content="A sua plataforma completa para a Enfermagem. Aceda a calculadoras, escalas, vagas de emprego, concursos e conteúdo atualizado para impulsionar a sua carreira.">
    <meta name="keywords" content="enfermagem, calculadora de enfermagem, escalas de enfermagem, gotejamento, imc, glasgow, braden, morse, rass, silverman, perroca, cam-icu, ballard, asa, barthel, bps, bishop, berg, capurro, cincinnati, cornell, cries, curb-65, downton, elpo, fast, vagas enfermagem, concursos enfermagem, acessibilidade, libras">
    
    <!-- Sustentabilidade: A escolha por não usar frameworks pesados de JS e otimizar o código reduz o tempo de processamento do lado do cliente e o consumo de dados, contribuindo para uma menor pegada de carbono. --><script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Nunito+Sans:wght@700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"> <!-- Versão 6.5.2 para compatibilidade total com os ícones --><style>
        :root {
            --primary-color: #1A3E74;
            --primary-color-hover: #15325e; /* Ajustado para um tom mais escuro */
            --accessibility-active: #FFA500; /* Laranja */
        }
        html {
            scroll-behavior: smooth;
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }
        .main-title {
            font-family: 'Nunito Sans', sans-serif;
            font-weight: 800;
            color: var(--primary-color);
        }
        .section-title {
            font-family: 'Nunito Sans', sans-serif;
            font-weight: 700;
            color: var(--primary-color);
            padding-bottom: 0.5rem;
            border-bottom: 3px solid var(--primary-color);
        }
        .nav-link {
            transition: color 0.2s;
        }
        .nav-link:hover {
            color: var(--primary-color);
        }
        .btn-primary {
            background-color: var(--primary-color);
            color: white;
            transition: background-color 0.2s;
        }
        .btn-primary:hover {
            background-color: var(--primary-color-hover);
        }
        .fade-in { animation: fadeIn 0.5s ease-in-out; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* WIDGETS LATERAIS (ACESSIBILIDADE E FLUTUANTES) - Mantido */
        .side-widgets-container {
            position: fixed;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            gap: 8px;
        }
        .accessibility-widget {
            display: flex;
            flex-direction: column; /* Garante que os botões dentro do widget se empilhem verticalmente */
        }
        .accessibility-widget button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 0.75rem;
            width: 50px;
            height: 50px;
            cursor: pointer;
            transition: background-color 0.2s;
            border-top-left-radius: 0.5rem;
            border-bottom-left-radius: 0.5rem;
        }
        .accessibility-widget button:hover {
            background-color: var(--primary-color-hover);
        }
        .floating-buttons {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-right: 4px;  
        }
        .floating-buttons button {
            background-color: var(--primary-color);
            color: white;
            border-radius: 50%;
            width: 42px;
            height: 42px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            transition: all 0.2s;
        }
        .floating-buttons button:hover {
            transform: scale(1.1);
        }

        /* Menu de Acessibilidade e Estilos Globais - Mantidos */
        #accessibility-menu { position: fixed; right: -400px; top: 0; width: 350px; height: 100%; background-color: white; box-shadow: -5px 0 15px rgba(0,0,0,0.1); transition: right 0.3s ease-in-out; z-index: 999; overflow-y: auto; }
        #accessibility-menu.open { right: 0; }
        .acc-feature { border: 2px solid transparent; border-radius: 0.25rem; padding: 0.5rem; transition: all 0.2s; }
        .acc-feature.active { border-color: var(--accessibility-active) !important; }
        .acc-feature.active h4 { color: var(--accessibility-active); }
        .acc-option { border: 1px solid #ccc; border-radius: 0.25rem; padding: 0.25rem; transition: all 0.2s; }
        .acc-option.active { background-color: var(--accessibility-active); color: white; border-color: var(--accessibility-active); }
        .contrast-dark { filter: invert(1) hue-rotate(180deg); background-color: #111; }
        .contrast-light { filter: brightness(1.2) contrast(1.2); }
        .contrast-inverted { filter: invert(1); }
        .saturation-low { filter: saturate(50%); }
        .saturation-high { filter: saturate(200%); }
        .saturation-mono { filter: grayscale(100%); }
        .links-highlighted a:is(:hover, :focus) { text-decoration: underline !important; background-color: yellow; color: black !important; outline: 2px solid black; }
        .font-serif { font-family: serif !important; }
        .font-bold-force { font-weight: bold !important; }
        #reading-mask { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); pointer-events: none; z-index: 2000; mix-blend-mode: multiply; }
        #reading-guide { position: fixed; width: 100%; height: 5px; background: var(--accessibility-active); pointer-events: none; z-index: 2000; }
        [vw-access-button] { display: none !important; }
        #cookie-banner { position: fixed; bottom: -200px; left: 0; right: 0; z-index: 998; transition: bottom 0.5s ease-in-out; }
        #cookie-banner.show { bottom: 0; }
        .modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background-color: rgba(0,0,0,0.5); z-index: 1010; 
            align-items: center; justify-content: center;
        }
        .tab { border-bottom: 3px solid transparent; transition: all 0.2s; }
        .tab.active { border-bottom-color: var(--primary-color); color: var(--primary-color); font-weight: 600; }
        .switch { position: relative; display: inline-block; width: 40px; height: 20px; }
        .switch input { opacity: 0; width: 0; height: 0; }
        .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; transition: .4s; border-radius: 20px; }
        .slider:before { position: absolute; content: ""; height: 12px; width: 12px; left: 4px; bottom: 4px; background-color: white; transition: .4s; border-radius: 50%; }
        input:checked + .slider { background-color: var(--primary-color); }
        input:checked + .slider:before { transform: translateX(20px); }

        /* Estilos adicionais do app de calculadora */
        .native-select {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%2Dxmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20stroke%3D%22currentColor%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%3Cpolyline%20points%3D%226%209%2012%2015%2018%209%22%3E%3C%2Fpolyline%3E%3C%2Fsvg%3E');
            background-repeat: no-repeat;
            background-position: right 0.5rem center;
            background-size: 1.25em 1.25em;
            padding-right: 2.5rem; 
        }

        /* Classes customizadas para tamanho de ícones no modo de visualização */
        .icon-view-card .card-icon { transition: font-size 0.2s; }
        .icon-size-xl .card-icon { font-size: 4.5rem !important; }
        .icon-size-lg .card-icon { font-size: 3.5rem !important; }
        .icon-size-md .card-icon { font-size: 2.5rem !important; }
        .icon-size-sm .card-icon { font-size: 1.5rem !important; }
        /* Ajuste do padding para ícones grandes */
        .icon-size-xl .p-5 { padding: 1.5rem; }
        .icon-size-lg .p-5 { padding: 1.25rem; }
        .icon-size-sm .p-5 { padding: 0.75rem; }

        /* Estilo para simular ícone no select de ordenação */
        .sort-select-wrapper {
            position: relative;
        }
        .sort-select-icon {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: #4b5563; /* gray-600 */
            pointer-events: none;
            z-index: 10;
        }
        .sort-select-wrapper select {
            padding-left: 2.5rem;
        }

    </style>
</head>
<body class="bg-gray-100">

    <!-- Cabeçalho Público (NOVA ESTRUTURA COM LINKS REAIS) --><header class="bg-white shadow-md sticky top-0 z-50 w-full">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <!-- LOGOTIPO ATUALIZADO --><div class="flex-shrink-0">
                <a href="index.html">
                    <img src="https://www.calculadorasdeenfermagem.com.br/icontopbar1.webp" alt="Logotipo Portal de Enfermagem" class="h-10 w-auto">
                </a>
            </div>
            
            <!-- NOVO MENU DE NAVEGAÇÃO DESKTOP -->
            <nav class="hidden md:flex items-center space-x-6" aria-label="Navegação Principal">
                <ul class="flex space-x-6">
                    <!-- Início -->
                    <li><a href="https://www.calculadorasdeenfermagem.com.br/" class="text-gray-700 hover:text-[#1A3E74] font-medium nav-link">Início</a></li>

                    <!-- Sobre Nós -->
                    <li class="relative group">
                        <button type="button" class="text-gray-700 hover:text-[#1A3E74] font-medium flex items-center nav-link" aria-haspopup="true" aria-expanded="false">
                            Sobre Nós
                            <i class="fas fa-chevron-down ml-1 w-3 h-3 text-gray-500"></i>
                        </button>
                        <ul class="absolute hidden group-hover:block bg-white shadow-lg rounded-md py-2 w-56 z-30">
                            <li><a href="https://www.calculadorasdeenfermagem.com.br/missao.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Missão, Visão e Valores</a></li>
                            <!-- LINK ATUALIZADO -->
                            <li><a href="https://www.calculadorasdeenfermagem.com.br/objetivo.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Objetivo do Site</a></li>
                            <li class="relative group/sub">
                                <a href="https://www.calculadorasdeenfermagem.com.br/politicadeacessibilidade.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100 flex items-center justify-between">
                                    Acessibilidade Digital
                                    <i class="fas fa-chevron-right ml-1 w-3 h-3 text-gray-500"></i>
                                </a>
                                <ul class="absolute hidden group-hover/sub:block bg-white shadow-lg rounded-md py-2 w-64 z-40 top-0 left-full">
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/politicadeacessibilidade.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Política de Acessibilidade</a></li>
                                </ul>
                            </li>
                            <li class="relative group/sub">
                                <a href="https://www.calculadorasdeenfermagem.com.br/nossocompromisso.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100 flex items-center justify-between">
                                    Sustentabilidade Digital
                                    <i class="fas fa-chevron-right ml-1 w-3 h-3 text-gray-500"></i>
                                </a>
                                <ul class="absolute hidden group-hover/sub:block bg-white shadow-lg rounded-md py-2 w-64 z-40 top-0 left-full">
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/nossocompromisso.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Nosso Compromisso</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/impactodigital.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Relatório de Impacto</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/tecnologiaverde.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Tecnologia Verde</a></li>
                                </ul>
                            </li>
                             <li class="relative group/sub">
                                <a href="https://www.calculadorasdeenfermagem.com.br/politica.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100 flex items-center justify-between">
                                    Políticas do Site
                                    <i class="fas fa-chevron-right ml-1 w-3 h-3 text-gray-500"></i>
                                </a>
                                <ul class="absolute hidden group-hover/sub:block bg-white shadow-lg rounded-md py-2 w-64 z-40 top-0 left-full">
                                    <!-- LINKS LGPD/COOKIES/PRIVACIDADE ATUALIZADOS -->
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/politica.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">LGPD</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/politica.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Políticas de Cookies</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/politica.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Políticas de Privacidade</a></li>
                                    <li><a href="politica.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Política de Retenção de dados</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/termos.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Termos e Condições de Uso</a></li>
                                </ul>
                            </li>
                            <!-- LINK ATUALIZADO -->
                            <li><a href="https://www.calculadorasdeenfermagem.com.br/institucional/acessorestrito.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Acesso Administrativo</a></li>
                        </ul>
                    </li>

                    <!-- Calculadoras (E Escalas) - INÍCIO DA MUDANÇA -->
                    <li class="relative group">
                        <button type="button" class="text-gray-700 hover:text-[#1A3E74] font-medium flex items-center nav-link" aria-haspopup="true" aria-expanded="false">
                            Calculadoras
                            <i class="fas fa-chevron-down ml-1 w-3 h-3 text-gray-500"></i>
                        </button>
                        <ul class="absolute hidden group-hover:block bg-white shadow-lg rounded-md py-2 w-56 z-30">
                            <!-- GRUPO CALCULADORAS PRINCIPAIS -->
                            <li class="relative group/sub">
                                <a href="#" class="block px-4 py-2 text-gray-700 hover:bg-gray-100 flex items-center justify-between">
                                    Calculadoras
                                    <i class="fas fa-chevron-right ml-1 w-3 h-3 text-gray-500"></i>
                                </a>
                                <ul class="absolute hidden group-hover/sub:block bg-white shadow-lg rounded-md py-2 w-64 z-40 top-0 left-full">
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/heparina.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Aspiração de Heparina</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/insulina.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Aspiração de Insulina</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/balancohidrico.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Balanço Hídrico</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/dimensionamento.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Dimensionamento da Equipe de Enfermagem</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/gotejamento.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Gotejamento</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/gestacional.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Idade Gestacional e DPP</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/imc.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">IMC</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/medicamentos.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Medicamentos</a></li>
                                </ul>
                            </li>

                            <!-- NOVO SUB-MENU: CALENDÁRIO VACINAL -->
                            <li class="relative group/sub">
                                <a href="#" class="block px-4 py-2 text-gray-700 hover:bg-gray-100 flex items-center justify-between">
                                    Calendário Vacinal
                                    <i class="fas fa-chevron-right ml-1 w-3 h-3 text-gray-500"></i>
                                </a>
                                <ul class="absolute hidden group-hover/sub:block bg-white shadow-lg rounded-md py-2 w-72 z-40 top-0 left-full max-h-96 overflow-y-auto">
                                    <li><a href="#" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Prematuro</a></li>
                                    <li><a href="#" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Crianças (0 a <10 anos)</a></li>
                                    <li><a href="#" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Adolescentes (10 a 19 anos)</a></li>
                                    <li><a href="#" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Adultos (20 a 59 anos)</a></li>
                                    <li><a href="#" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Idosos (mais de 60 anos)</a></li>
                                    <li><a href="#" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Gestantes</a></li>
                                    <li><a href="#" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Pacientes Especiais</a></li>
                                    <li><a href="#" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Ocupacional</a></li>
                                    <li><a href="#" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Vacinas Pneumocócicas</a></li>
                                </ul>
                            </li>
                            
                            <!-- NOVO SUB-MENU: PLANO DE ENFERMAGEM -->
                            <li class="relative group/sub">
                                <a href="#" class="block px-4 py-2 text-gray-700 hover:bg-gray-100 flex items-center justify-between">
                                    Plano de Enfermagem
                                    <i class="fas fa-chevron-right ml-1 w-3 h-3 text-gray-500"></i>
                                </a>
                                <ul class="absolute hidden group-hover/sub:block bg-white shadow-lg rounded-md py-2 w-64 z-40 top-0 left-full">
                                    <li><a href="#" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Plano de Enfermagem</a></li>
                                </ul>
                            </li>

                            <!-- GRUPO ESCALAS DE ENFERMAGEM EXISTENTE -->
                            <li class="relative group/sub">
                                <a href="#" class="block px-4 py-2 text-gray-700 hover:bg-gray-100 flex items-center justify-between">
                                    Escalas de Enfermagem
                                    <i class="fas fa-chevron-right ml-1 w-3 h-3 text-gray-500"></i>
                                </a>
                                <ul class="absolute hidden group-hover/sub:block bg-white shadow-lg rounded-md py-2 w-64 z-40 top-0 left-full max-h-96 overflow-y-auto">
                                     <!-- Escalas (URLs completas já atualizadas) -->
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/aldrete.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de Aldrete e Kroulik</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/apache.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de APACHE II</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/apgar.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de Apgar</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/asa.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Classificação ASA</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/ballard.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de Ballard</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/barthel.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de Barthel</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/berg.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de Berg</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/bishop.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de Bishop</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/braden.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de Braden</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/bps.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de BPS</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/cam.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de CAM - UTI</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/capurro.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de Capurro</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/cincinnati.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de Cincinnati</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/cornell.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de Cornell</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/cries.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de CRIES</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/curb-65.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de CURB-65</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/gds.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de Depressão Geriátrica (GDS)</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/downton.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de Downton</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/escalanumerica.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de Dor</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/elpo.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de ELPO</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/fast.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de FAST (AVC)</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/flacc.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de FLACC</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/four.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de FOUR</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/fugulin.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de Fugulin (SCP)</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/glasgow.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de Coma de Glasgow</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/gosnell.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de Gosnell</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/hamilton.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de Hamilton</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/humpty.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de Humpty - Dumpty</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/johns.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala Johns - Hopkins</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/jouvet.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de Jouvet</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/katz.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala Katz</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/lachs.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de Lachs</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/lanss.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala LANSS</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/lawton.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de Lawton</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/manchester.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Protocolo de Manchester</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/meem.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de MEEM</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/meows.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de MEOWS</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/morse.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de Morse</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/news.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de NEWS</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/nihss.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de NIHSS</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/nips.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de NIPS</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/norton.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de Norton</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/ofras.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de OFRAS</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/painad.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de Painad</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/pelod.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de PELOD</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/perroca.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de Perroca (SCP)</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/pews.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de PEWS</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/prism.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de PRISM</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/qsofa.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de qSOFA</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/rancholosamigos.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala Rancho Los Amigos</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/richmond.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de Richmond</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/saps.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de SAPS III</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/silverman.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de Silverman-Anderson</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/sofa.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de SOFA</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/tinetti.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de Tinetti</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/waterlow.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de Waterlow</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/downes.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de Wood e Downes</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/zarit.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de Zarit</a></li>
                                    <li><a href="https://www.calculadorasdeenfermagem.com.br/ramsay.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Escala de Ramsay (Sedação)</a></li>
                                </ul>
                            </li>
                        </ul>
                    </li>

                    <!-- Conteúdo -->
                    <li class="relative group">
                        <button type="button" class="text-gray-700 hover:text-[#1A3E74] font-medium flex items-center nav-link" aria-haspopup="true" aria-expanded="false">
                            Conteúdo
                            <i class="fas fa-chevron-down ml-1 w-3 h-3 text-gray-500"></i>
                        </button>
                        <ul class="absolute hidden group-hover:block bg-white shadow-lg rounded-md py-2 w-72 z-30">
                            <!-- LINKS ATUALIZADOS -->
                            <li><a href="https://www.calculadorasdeenfermagem.com.br/checagem.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Dupla e Tripla Checagem</a></li>
                            <li><a href="https://www.calculadorasdeenfermagem.com.br/notificacao-compulsoria.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Doenças de Notificação Compulsória</a></li>
                            <li><a href="https://www.calculadorasdeenfermagem.com.br/legislacoes.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Legislações e Pareceres</a></li>
                            <li><a href="https://www.calculadorasdeenfermagem.com.br/regrasmedicacoes.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Manual de Uso seguro de medicamentos</a></li>
                            <li><a href="https://www.calculadorasdeenfermagem.com.br/vigilancia.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Medicação de Alta Vigilância (MAV)</a></li>
                            <li><a href="https://www.calculadorasdeenfermagem.com.br/metasinternacionais.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Metas Internacionais de Segurança do Paciente</a></li>
                            <li><a href="https://www.calculadorasdeenfermagem.com.br/nanda.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">O que é NANDA, NIC e NOC?</a></li>
                        </ul>
                    </li>

                    <!-- Carreira - MUDANÇA -->
                    <li class="relative group">
                        <button type="button" class="text-gray-700 hover:text-[#1A3E74] font-medium flex items-center nav-link" aria-haspopup="true" aria-expanded="false">
                            Carreira
                            <i class="fas fa-chevron-down ml-1 w-3 h-3 text-gray-500"></i>
                        </button>
                        <ul class="absolute hidden group-hover:block bg-white shadow-lg rounded-md py-2 w-72 z-30">
                             <!-- APENAS OS 6 SUB-MENUS PRINCIPAIS FORNECIDOS -->
                             <li><a href="https://www.calculadorasdeenfermagem.com.br/carreiras.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Carreiras</a></li>
                             <li><a href="https://www.calculadorasdeenfermagem.com.br/como-procurar-emprego.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Como Procurar Emprego?</a></li>
                             <li><a href="https://www.calculadorasdeenfermagem.com.br/concursos-publicos.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Concursos Públicos para Enfermagem</a></li>
                             <li><a href="https://www.calculadorasdeenfermagem.com.br/cursos.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Cursos</a></li>
                             <li><a href="https://www.calculadorasdeenfermagem.com.br/curriculos.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Currículos</a></li>
                             <li><a href="https://www.calculadorasdeenfermagem.com.br/site-de-vagas.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Sites de Vagas para Enfermagem</a></li>
                        </ul>
                    </li>

                    <!-- Fale Conosco -->
                    <li class="relative group">
                        <button type="button" class="text-gray-700 hover:text-[#1A3E74] font-medium flex items-center nav-link" aria-haspopup="true" aria-expanded="false">
                            Fale Conosco
                            <i class="fas fa-chevron-down ml-1 w-3 h-3 text-gray-500"></i>
                        </button>
                        <ul class="absolute hidden group-hover:block bg-white shadow-lg rounded-md py-2 w-48 z-30">
                            <!-- LINKS ATUALIZADOS -->
                            <li><a href="https://www.calculadorasdeenfermagem.com.br/doacoes.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Contribua</a></li>
                            <li><a href="https://www.calculadorasdeenfermagem.com.br/fale.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Contate-nos</a></li>
                            <li><a href="https://www.calculadorasdeenfermagem.com.br/forum.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Fórum de perguntas e respostas</a></li>
                        </ul>
                    </li>
                </ul>
            </nav>
            
            <!-- NOVO SELETOR DE IDIOMAS COM BANDEIRAS --><div class="flex items-center gap-4">
                 <div id="language-dropdown-wrapper" class="relative z-50">
                    <button id="langButton" class="flex items-center gap-2 p-2 bg-gray-100 rounded-lg shadow-sm hover:bg-gray-200 transition-colors" aria-expanded="false" aria-controls="langMenu">
                        <img id="langFlag" src="https://www.calculadorasdeenfermagem.com.br/bandeira-brasil.webp" alt="Current Language Flag" class="w-6 h-auto rounded-sm border border-gray-300">
                        <span id="langText" class="text-sm font-semibold text-gray-700">Português</span>
                        <i class="fas fa-chevron-down text-xs text-gray-500"></i>
                    </button>
                    <div id="langMenu" class="absolute right-0 mt-3 w-40 bg-white rounded-lg shadow-xl py-1 hidden ring-1 ring-gray-200">
                        <!-- Opções de idioma preenchidas pelo JS --></div>
                </div>
                <!-- LINK ATUALIZADO -->
                <a href="https://www.calculadorasdeenfermagem.com.br/curriculos.html" class="btn-primary font-bold py-2 px-5 rounded-lg text-sm">
                    <i class="fas fa-user-circle mr-2" aria-hidden="true"></i> Área do Usuário
                </a>
            </div>
            
        </div>
    </header>

    <!-- Conteúdo Principal --><main id="main-content" class="container mx-auto p-8">
        <!-- Breadcrumbs - Será preenchido dinamicamente pela aplicação de calculadoras --><nav id="breadcrumbs" class="mb-6 text-sm text-gray-500 fade-in" aria-label="Breadcrumb"></nav>
        
        <!-- CONTAINER PRINCIPAL DA APLICAÇÃO DE CALCULADORAS - Integrado aqui --><section id="calculators-app">
            
            <div id="app" class="max-w-7xl mx-auto p-0 text-gray-800">

                <!-- Cabeçalho da Aplicação de Calculadoras (Ajustado) --><div id="header-card" class="mb-8 flex flex-col items-center text-center bg-white p-6 md:p-8 rounded-2xl shadow-sm">
                    <h1 class="text-4xl md:text-5xl font-extrabold text-[#1A3E74] mb-3">
                        Calculadoras de Enfermagem
                    </h1>
                    <p class="text-lg text-gray-600 max-w-4xl">
                        Ferramentas essenciais para profissionais e estudantes de enfermagem, oferecendo calculadoras de escalas clínicas e de dosagem de medicamentos para otimizar a prática diária e a segurança do&nbsp;paciente.
                    </p>
                </div>

                <!-- Seção de Acesso Rápido --><div id="quick-access-card" class="mb-8 bg-white p-6 md:p-8 rounded-2xl shadow-sm">
                    <h2 class="text-3xl font-bold text-[#1A3E74] mb-6 pb-3 border-b-4 border-[#1A3E74] inline-block" data-anchor-id="quick-access">
                        Acesso Rápido
                    </h2>
                    <div id="quick-access-container" class="grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6">
                        <!-- Cards de Acesso Rápido gerados por JS --></div>
                </div>

                <!-- Barra de busca centralizada com botões --><div id="search-card" class="mb-8 flex flex-col justify-center bg-white p-6 md:p-8 rounded-2xl shadow-sm">
                    <h3 class="text-2xl font-bold text-[#1A3E74] text-center mb-6">
                        Busque suas ferramentas
                    </h3>
                    <div class="flex flex-col sm:flex-row items-center gap-3 w-full max-w-2xl mx-auto">
                        <!-- Input de busca --><div class="relative flex-grow w-full">
                            <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                                <i id="search-icon" class="fas fa-search w-5 h-5 text-gray-400"></i>
                            </div>
                            <input 
                                type="text" 
                                id="search-input" 
                                placeholder="Buscar em todas as ferramentas..."
                                class="w-full h-[60px] pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl text-lg focus:outline-none focus:ring-2 focus:ring-[#1A3E74] focus:border-transparent"
                            />
                        </div>
                        <!-- Container para os botões --><div class="flex gap-3 w-full sm:w-auto">
                            <button 
                                type="button"
                                id="search-button"
                                class="flex-1 sm:flex-none px-6 py-3 h-[60px] bg-[#1A3E74] text-white rounded-xl font-semibold shadow-sm hover:bg-[#15325e] transition-colors text-lg w-full sm:w-[140px] flex justify-center items-center" 
                            >
                                Buscar
                            </button>
                            <button 
                                type="button"
                                id="clear-button"
                                class="flex-1 sm:flex-none px-4 py-3 h-[60px] bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-colors flex justify-center items-center w-full sm:w-[140px]" 
                                title="Limpar busca"
                            >
                                <i id="clear-icon" class="fas fa-sync-alt w-5 h-5 mr-2"></i>
                                Limpar
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Seção Principal de Ferramentas (Filtros, Listas) --><div id="tools-card" class="bg-white p-6 md:p-8 rounded-2xl shadow-sm">
                    
                    <!-- Controles (Ordenação e Visualização) --><div id="controls-container" class="flex flex-col md:flex-row justify-between items-center gap-4 mb-6">
                        <!-- Conteúdo dos Controles será injetado aqui --></div>

                    <!-- Seção de Calculadoras --><div id="calculators-section" class="mb-12">
                        <h2 id="calculators-header" class="text-3xl font-bold text-[#1A3E74] mb-6 pb-3 border-b-4 border-[#1A3E74] inline-block" data-anchor-id="calculadoras">
                            Calculadoras
                        </h2>
                        <div id="calculators-container">
                            <!-- Cards de Calculadoras serão injetados aqui --></div>
                    </div>

                    <!-- Seção de Escalas Clínicas --><div id="scales-section" class="mb-12">
                        <h2 id="scales-header" class="text-3xl font-bold text-[#1A3E74] mb-6 pb-3 border-b-4 border-[#1A3E74] inline-block" data-anchor-id="escalas">
                            Escalas Clínicas
                        </h2>
                        <div id="scales-container">
                            <!-- Cards de Escalas serão injetados aqui --></div>
                    </div>

                    <!-- Seção de Vacinas --><div id="vaccines-section" class="mb-12">
                        <h2 id="vaccines-header" class="text-3xl font-bold text-[#1A3E74] mb-6 pb-3 border-b-4 border-[#1A3E74] inline-block" data-anchor-id="vacinas">
                            Consultar Vacinas
                        </h2>
                        <div id="vaccines-container">
                            <!-- Cards de Vacinas serão injetados aqui --></div>
                    </div>

                    <!-- Mensagem de "Nenhum resultado" --><div id="no-results" class="hidden text-center text-gray-600 text-lg py-12">
                        <i class="fas fa-exclamation-circle w-12 h-12 mx-auto mb-4 text-gray-400"></i>
                        Nenhuma ferramenta encontrada com os termos buscados.
                    </div>

                </div>

                <!-- VISTA DA FERRAMENTA (INICIALMENTE OCULTA) --><div id="tool-view" class="hidden bg-white p-6 md:p-8 rounded-2xl shadow-sm">
                    <!-- Conteúdo da ferramenta será injetado aqui pelo JS --></div>


            </div> <!-- Fim do #app --></section> <!-- Fim da seção calculators-app --></main>

    <!-- Rodapé --><footer class="bg-gray-800 text-gray-300 pt-12 pb-8 mt-12">
        <div class="container mx-auto px-8">
            <div class="mb-8">
                <img src="https://www.calculadorasdeenfermagem.com.br/iconrodape1.webp" alt="Logotipo Calculadoras de Enfermagem" class="h-12 w-auto mb-6" onerror="this.onerror=null;this.src='https://placehold.co/200x48/FFFFFF/1A3E74?text=Logo'">
                <hr class="border-gray-700">
            </div>
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8 mb-8">
                <!-- Coluna 1: Institucional --><div>
                    <h4 class="font-bold text-white mb-4" style="font-family: 'Nunito Sans', sans-serif;">Institucional</h4>
                    <ul class="space-y-2 text-sm">
                        <li><a href="https://www.calculadorasdeenfermagem.com.br/" class="hover:text-white">Início</a></li>
                        <li><a href="https://www.calculadorasdeenfermagem.com.br/missao.html" class="hover:text-white">Sobre Nós</a></li>
                        <!-- LINK ATUALIZADO -->
                        <li><a href="https://www.calculadorasdeenfermagem.com.br/mapa-do-site.html" class="hover:text-white">Mapa do Site</a></li>
                        <li><a href="https://www.calculadorasdeenfermagem.com.br/politica.html" class="hover:text-white">Políticas do Site</a></li>
                        <li><a href="https://www.calculadorasdeenfermagem.com.br/termos.html" class="hover:text-white">Termos e Condições de Uso</a></li>
                    </ul>
                </div>

                <!-- Coluna 2: Sustentabilidade e Acessibilidade --><div>
                    <h4 class="font-bold text-white mb-4" style="font-family: 'Nunito Sans', sans-serif;">Sustentabilidade Digital</h4>
                    <ul class="space-y-2 text-sm mb-6">
                        <li><a href="https://www.calculadorasdeenfermagem.com.br/nossocompromisso.html" class="hover:text-white">Nosso Compromisso</a></li>
                        <li><a href="https://www.calculadorasdeenfermagem.com.br/impactodigital.html" class="hover:text-white">Relatório de Impacto</a></li>
                        <li><a href="https://www.calculadorasdeenfermagem.com.br/tecnologiaverde.html" class="hover:text-white">Tecnologia Verde</a></li>
                    </ul>

                    <h4 class="font-bold text-white mb-4" style="font-family: 'Nunito Sans', sans-serif;">Acessibilidade</h4>
                    <ul class="space-y-2 text-sm">
                        <li><a href="https://www.calculadorasdeenfermagem.com.br/politicadeacessibilidade.html" class="hover:text-white">Política de Acessibilidade</a></li>
                        <!-- LINK ATUALIZADO -->
                        <li><a href="https://www.calculadorasdeenfermagem.com.br/politicadeacessibilidade.html" class="hover:text-white">Recursos de Acessibilidade</a></li>
                    </ul>
                </div>

                <!-- Coluna 3: Nosso Compromisso --><div>
                    <h4 class="font-bold text-white mb-4" style="font-family: 'Nunito Sans', sans-serif;">Nosso Compromisso</h4>
                     <p class="text-sm mb-4">Nosso site adota como princípio de governança, o comprometimento com elevados padrões de acessibilidade digital, sustentabilidade digital e proteção de dados.</p>
                     <div class="flex items-center space-x-4">
                        <a href="https://www.calculadorasdeenfermagem.com.br/seloacessibilidade.webp" target="_blank"><img src="https://www.calculadorasdeenfermagem.com.br/seloacessibilidade.webp" alt="Selo de Acessibilidade" class="h-16" onerror="this.style.display='none'"></a>
                        <a href="https://www.calculadorasdeenfermagem.com.br/selosustentabilidade.webp" target="_blank"><img src="https://www.calculadorasdeenfermagem.com.br/selosustentabilidade.webp" alt="Selo de Sustentabilidade Digital" class="h-16" onerror="this.style.display='none'"></a>
                        <a href="https://www.calculadorasdeenfermagem.com.br/selolgpd.webp" target="_blank"><img src="https://www.calculadorasdeenfermagem.com.br/selolgpd.webp" alt="Selo de Proteção de Dados" class="h-16" onerror="this.onerror=null;this.src='https://placehold.co/64x64/1A3E74/FFFFFF?text=Selo'"></a>
                    </div>
                </div>

                <!-- Coluna 4: Siga-nos --><div>
                     <h4 class="font-bold text-white mb-4" style="font-family: 'Nunito Sans', sans-serif;">Siga-nos</h4>
                    <div class="flex space-x-4 mb-6">
                        <a href="https://www.linkedin.com/company/calculadoras-de-enfermagem" target="_blank" class="text-2xl hover:text-white" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                        <a href="https://www.instagram.com/calculadorasdeenfermagem/" target="_blank" class="text-2xl hover:text-white" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="https://www.tiktok.com/@calculadorasdeenf" target="_blank" class="text-2xl hover:text-white" aria-label="TikTok"><i class="fab fa-tiktok"></i></a>
                        <a href="https://www.youtube.com/channel/UC_6runTDHz8u5S1Yab842pg" target="_blank" class="text-2xl hover:text-white" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                    </div>
                    <button id="manage-cookies-footer-btn" class="bg-white text-[var(--primary-color)] font-bold py-2 px-4 rounded-lg text-sm w-full">Gerenciar Preferências de Cookies</button>
                </div>
            </div>
            <div class="border-t border-gray-700 pt-6 text-center text-sm">
                <p>&copy; 2025 Calculadoras de Enfermagem. Todos os direitos reservados.</p>
            </div>
        </div>
    </footer>


    <!-- WIDGETS LATERAIS --><div class="side-widgets-container">
        <div class="accessibility-widget">
            <button id="libras-btn" title="Traduzir para LIBRAS (Língua Brasileira de Sinais)" aria-label="Ativar tradutor de LIBRAS">
                <i class="fas fa-sign-language fa-lg" aria-hidden="true"></i>
            </button>
            <button id="accessibility-btn" title="Abrir menu de recursos assistivos" aria-label="Abrir menu de recursos assistivos">
                <i class="fas fa-eye fa-lg" aria-hidden="true"></i>
            </button>
        </div>
        <div id="floating-buttons-container" class="floating-buttons">
            <button id="suggest-tool-btn" title="Sugerir uma ferramenta" aria-label="Sugerir uma ferramenta">
                <i class="fas fa-lightbulb" aria-hidden="true"></i>
            </button>
            <button id="back-to-top-btn" title="Voltar ao topo" aria-label="Voltar ao topo">
                <i class="fas fa-arrow-up" aria-hidden="true"></i>
            </button>
        </div>
    </div>
    
    <!-- BANNER DE COOKIES --><div id="cookie-banner" class="bg-gray-900 text-white p-4">
        <div class="container mx-auto flex flex-col md:flex-row justify-between items-center">
            <p class="text-sm mb-4 md:mb-0 md:mr-4">Este site utiliza cookies para garantir que obtém a melhor experiência. <a href="https://www.calculadorasdeenfermagem.com.br/politica.html" class="underline">Saiba mais</a>.</p>
            <div class="flex space-x-2 w-full md:w-auto">
                <!-- Botões com largura padronizada (w-28) e removido flex-1 para manter o tamanho fixo -->
                <button id="accept-cookies-btn" class="bg-white text-gray-900 font-bold py-2 px-4 rounded-lg text-sm w-28 flex-none flex justify-center items-center">Aceitar</button>
                <button id="decline-cookies-btn" class="bg-gray-700 hover:bg-gray-600 font-bold py-2 px-4 rounded-lg text-sm w-28 flex-none flex justify-center items-center">Recusar</button>
                <button id="manage-cookies-banner-btn" class="bg-gray-700 hover:bg-gray-600 font-bold py-2 px-4 rounded-lg text-sm w-28 flex-none flex justify-center items-center">Gerir</button>
            </div>
        </div>
    </div>

    <!-- MODAL DE SUGESTÃO --><div id="suggestion-modal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="suggestion-modal-title">
        <div class="bg-white p-8 rounded-lg shadow-xl max-w-lg w-full relative">
             <button class="close-modal-btn absolute top-4 right-4 text-gray-500 hover:text-gray-800 text-2xl" aria-label="Fechar">&times;</button>
            <h2 id="suggestion-modal-title" class="main-title text-2xl mb-4">Sugira uma Ferramenta</h2>
            <p class="text-gray-600 mb-4 text-sm">Sentiu falta de alguma calculadora ou escala? Diga-nos qual! O seu feedback é muito importante para nós.</p>
            <textarea class="w-full border-gray-300 rounded-md shadow-sm p-2" rows="4" placeholder="Descreva a sua sugestão..."></textarea>
            <div class="mt-4 flex justify-end gap-4">
                <button class="close-modal-btn bg-gray-200 text-gray-700 font-bold py-2 px-4 rounded-lg text-sm">Cancelar</button>
                <button class="btn-primary font-bold py-2 px-4 rounded-lg text-sm">Enviar Sugestão</button>
            </div>
        </div>
    </div>

    <!-- MODAL DE GERENCIAMENTO DE COOKIES --><div id="cookie-prefs-modal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="cookie-prefs-title">
        <div class="bg-white p-8 rounded-lg shadow-xl max-w-lg w-full relative">
            <button class="close-modal-btn absolute top-4 right-4 text-gray-500 hover:text-gray-800 text-2xl" aria-label="Fechar">&times;</button>
            <h2 id="cookie-prefs-title" class="main-title text-2xl mb-2">Preferências de Cookies</h2>
            <p class="text-gray-600 mb-6 text-sm">Para uma melhor experiência, utilizamos tecnologias como cookies para armazenar e/ou aceder a informações do dispositivo. Pode ajustar as suas preferências abaixo.</p>
            <div class="space-y-4">
                <div class="flex items-center justify-between p-4 border rounded-lg">
                    <div>
                        <h4 class="font-semibold text-gray-800">Cookies Essenciais</h4>
                        <p class="text-xs text-gray-500">Necessários para o funcionamento básico do site.</p>
                    </div>
                    <label class="switch"><input type="checkbox" checked disabled><span class="slider"></span></label>
                </div>
                 <div class="flex items-center justify-between p-4 border rounded-lg">
                    <div>
                        <h4 class="font-semibold text-gray-800">Cookies de Análise</h4>
                        <p class="text-xs text-gray-500">Ajudam-nos a entender como os visitantes interagem com o site.</p>
                    </div>
                    <label class="switch"><input type="checkbox" id="cookies-analiticos" checked><span class="slider"></span></label>
                </div>
                 <div class="flex items-center justify-between p-4 border rounded-lg">
                    <div>
                        <h4 class="font-semibold text-gray-800">Cookies de Marketing</h4>
                        <p class="text-xs text-gray-500">Utilizados para exibir anúncios relevantes para si.</p>
                    </div>
                    <label class="switch"><input type="checkbox" id="cookies-marketing"><span class="slider"></span></label>
                </div>
            </div>
            <div class="mt-8 flex flex-col sm:flex-row justify-end gap-4">
                <button id="save-cookie-prefs-btn" class="btn-primary font-bold py-2 px-6 rounded-lg text-sm w-full sm:w-auto">Salvar Preferências</button>
                <button id="accept-all-cookies-btn" class="bg-gray-200 text-gray-700 font-bold py-2 px-6 rounded-lg text-sm w-full sm:w-auto">Aceitar Todos</button>
            </div>
        </div>
    </div>


    <!-- MENU DE ACESSIBILIDADE --><div id="accessibility-menu">
        <div class="p-4 border-b flex justify-between items-center">
            <h3 class="text-xl font-bold text-[var(--primary-color)]">Recursos Assistivos</h3>
            <button id="close-accessibility-menu" class="text-2xl text-gray-500 hover:text-gray-800" aria-label="Fechar menu de acessibilidade">&times;</button>
        </div>
        <div class="p-4 space-y-4">
            <div class="acc-feature" data-group="fontSize"> <h4>Tamanho da Fonte</h4> <div class="flex gap-1 mt-1"><button class="acc-option flex-1 text-sm" data-action="font-size" data-value="1.2">120%</button><button class="acc-option flex-1 text-sm" data-action="font-size" data-value="1.5">150%</button><button class="acc-option flex-1 text-sm" data-action="font-size" data-value="2">200%</button></div> </div>
            <div class="acc-feature" data-group="fontType"> <h4>Fonte</h4> <div class="flex gap-1 mt-1"><button class="acc-option flex-1 text-sm" data-action="font-type" data-value="serif">Serif</button><button class="acc-option flex-1 text-sm" data-action="font-type" data-value="bold">Negrito</button></div> </div>
            <div class="acc-feature" data-group="lineSpacing"> <h4>Espaçamento entre linhas</h4> <div class="flex gap-1 mt-1"><button class="acc-option flex-1 text-sm" data-action="line-spacing" data-value="1.2">120%</button><button class="acc-option flex-1 text-sm" data-action="line-spacing" data-value="1.5">150%</button><button class="acc-option flex-1 text-sm" data-action="line-spacing" data-value="2">200%</button></div> </div>
            <div class="acc-feature" data-group="letterSpacing"> <h4>Espaço entre letras</h4> <div class="flex gap-1 mt-1"><button class="acc-option flex-1 text-sm" data-action="letter-spacing" data-value="0.1">120%</button><button class="acc-option flex-1 text-sm" data-action="letter-spacing" data-value="0.2">150%</button><button class="acc-option flex-1 text-sm" data-action="letter-spacing" data-value="0.3">200%</button></div> </div>
            <div class="acc-feature" data-group="siteReader"> <h4>Leitor de sites</h4> <div class="flex gap-1 mt-1"><button class="acc-option flex-1 text-sm" data-action="site-reader">Ativar/Desativar</button></div> </div>
            <div class="acc-feature" data-group="readingMask"> <h4>Máscara de Leitura</h4> <div class="flex gap-1 mt-1"><button class="acc-option flex-1 text-sm" data-action="reading-mask">Ativar/Desativar</button></div> </div>
            <div class="acc-feature" data-group="readingGuide"> <h4>Guia de leitura</h4> <div class="flex gap-1 mt-1"><button class="acc-option flex-1 text-sm" data-action="reading-guide">Ativar/Desativar</button></div> </div>
            <div class="acc-feature" data-group="highlightLinks"> <h4>Destacar links</h4> <div class="flex gap-1 mt-1"><button class="acc-option flex-1 text-sm" data-action="highlight-links">Ativar/Desativar</button></div> </div>
            <div class="acc-feature" data-group="contrast"> <h4>Contraste de cores</h4> <div class="flex gap-1 mt-1"><button class="acc-option flex-1 text-sm" data-action="contrast" data-value="dark">Escuro</button><button class="acc-option flex-1 text-sm" data-action="contrast" data-value="light">Claro</button><button class="acc-option flex-1 text-sm" data-action="contrast" data-value="inverted">Invertido</button></div> </div>
            <div class="acc-feature" data-group="saturation"> <h4>Saturação</h4> <div class="flex gap-1 mt-1"><button class="acc-option flex-1 text-sm" data-action="saturation" data-value="low">Baixa</button><button class="acc-option flex-1 text-sm" data-action="saturation" data-value="high">Alta</button><button class="acc-option flex-1 text-sm" data-action="saturation" data-value="mono">Mono</button></div> </div>
            <button id="reset-accessibility" class="w-full mt-4 bg-gray-200 text-gray-700 py-2 rounded hover:bg-gray-300"><i class="fas fa-undo mr-2"></i> Limpar configurações</button>
        </div>
    </div>
    
    <!-- Integração do VLibras (Plugin do Gov.br) --><div vw class="enabled">
        <div vw-access-button class="active"></div>
        <div vw-plugin-wrapper>
            <div class="vw-plugin-top-wrapper"></div>
        </div>
    </div>
    <script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script>
    <script>
        new window.VLibras.Widget('https://vlibras.gov.br/app');
    </script>


    <!-- ============================================= --><!-- SCRIPT PRINCIPAL DA APLICAÇÃO (INTEGRADO)       --><!-- ============================================= --><script type="module">
        
        // --- DADOS DA APLICAÇÃO (ÍCONES ATUALIZADOS PARA FA) ---
        const BASE_URL = 'https://www.calculadorasdeenfermagem.com.br/';

        // Os dados de ferramentas foram convertidos para usar apenas strings simples para os ícones,
        // mas as classes Font Awesome serão usadas no render, conforme o arquivo base.
        const TOOLS_DATA = [
            // CALCULADORAS: JÁ ATUALIZADAS PARA URL COMPLETA
            { id: 'balanco-hidrico', name: 'Balanço Hídrico', category: 'Controle Hídrico', type: 'calculator', description: 'Controle preciso de líquidos', filename: BASE_URL + 'balancohidrico.html', created_at: '2023-10-01T10:00:00Z', iconClass: 'fas fa-tint' },
            { id: 'gotejamento', name: 'Cálculo de Gotejamento', category: 'Medicamentos', type: 'calculator', description: 'Velocidade de infusão de solução Fisiológica', filename: BASE_URL + 'gotejamento.html', created_at: '2023-10-02T10:00:00Z', iconClass: 'fas fa-hand-holding-water' },
            { id: 'aspiracao-heparina', name: 'Cálculo de Heparina', category: 'Medicamentos', type: 'calculator', description: 'Cálculo de aspiração de Insulina', filename: BASE_URL + 'heparina.html', created_at: '2023-10-03T10:00:00Z', iconClass: 'fas fa-syringe' },
            { id: 'imc', name: 'Cálculo de Índice Massa Corporal (IMC)', category: 'Nutrição', type: 'calculator', description: 'Índice de Massa Corporal', filename: BASE_URL + 'imc.html', created_at: '2023-10-04T10:00:00Z', iconClass: 'fas fa-weight' },
            { id: 'aspiracao-insulina', name: 'Cálculo de Insulina', category: 'Medicamentos', type: 'calculator', description: 'Cálculo de doses de insulina', filename: BASE_URL + 'insulina.html', created_at: '2023-10-05T10:00:00Z', iconClass: 'fas fa-syringe' },
            { id: 'medicamentos', name: 'Cálculo de Medicamentos', category: 'Medicamentos', type: 'calculator', description: 'Doses e diluições de fármacos', filename: BASE_URL + 'medicamentos.html', created_at: '2023-10-06T10:00:00Z', iconClass: 'fas fa-pills' },
            { id: 'dimensionamento', name: 'Dimensionamento de Equipe', category: 'Gestão', type: 'calculator', description: 'Organize sua equipe de enfermagem', filename: BASE_URL + 'dimensionamento.html', created_at: '2023-10-07T10:00:00Z', iconClass: 'fas fa-users-cog' },
            { id: 'idade-gestacional', name: 'Idade Gestacional e DPP', category: 'Obstetrícia', type: 'calculator', description: 'Calcule a idade gestacional e Data provável do parto', filename: BASE_URL + 'gestacional.html', created_at: '2023-10-08T10:00:00Z', iconClass: 'fas fa-baby' },

            // ESCALAS: ATUALIZADAS PARA URL COMPLETA
            { id: 'aldrete-e-kroulik', name: 'Escala de Aldrete e Kroulik', category: 'Sedação', type: 'scale', description: 'Avaliação do paciente em SRPA', filename: BASE_URL + 'aldrete.html', created_at: '2023-10-09T10:00:00Z', iconClass: 'fas fa-notes-medical' },
            { id: 'apache-ii', name: 'Escala de APACHE II', category: 'UTI', type: 'scale', description: 'Avaliação de gravidade do paciente em estado grave', filename: BASE_URL + 'apache.html', created_at: '2023-10-10T10:00:00Z', iconClass: 'fa-solid fa-receipt' },
            { id: 'apgar', name: 'Escala de Apgar', category: 'Neonatalogia', type: 'scale', description: 'Avaliação de recém-nascidos', filename: BASE_URL + 'apgar.html', created_at: '2023-10-11T10:00:00Z', iconClass: 'fas fa-baby-carriage' },
            { id: 'asa', name: 'Risco Perioperatório - ASA', category: 'Anestesia', type: 'scale', description: 'Classificação do estado físico pré operatório', filename: BASE_URL + 'asa.html', created_at: '2023-10-12T10:00:00Z', iconClass: 'fas fa-notes-medical' },
            { id: 'ballard', name: 'Escala de Ballard', category: 'Neonatalogia', type: 'scale', description: 'Avaliação da maturidade neuromuscular e física do recém-nascido', filename: BASE_URL + 'ballard.html', created_at: '2023-10-13T10:00:00Z', iconClass: 'fas fa-baby-carriage' },
            { id: 'barthel', name: 'Escala de Barthel', category: 'Funcional', type: 'scale', description: 'Avalia grau de dependência funcional do paciente', filename: BASE_URL + 'barthel.html', created_at: '2023-10-14T10:00:00Z', iconClass: 'fas fa-walking' },
            { id: 'bps', name: 'Escala de dor de Behavioural (BPS)', category: 'Dor', type: 'scale', description: 'Avaliação de dor em pacientes sob ventilação mecânica', filename: BASE_URL + 'bps.html', created_at: '2023-10-15T10:00:00Z', iconClass: 'fa-solid fa-mask-face' },
            { id: 'berg', name: 'Escala de BERG (BBS)', category: 'Fisioterapia', type: 'scale', description: 'Avalia o equilíbrio estático e dinâmico de um paciente', filename: BASE_URL + 'berg.html', created_at: '2023-10-16T10:00:00Z', iconClass: 'fa-solid fa-person' },
            { id: 'bishop', name: 'Índice de Bishop', category: 'Obstetrícia', type: 'scale', description: 'Avaliar a maturidade do colo do útero e a prontidão para o trabalho de parto', filename: BASE_URL + 'bishop.html', created_at: '2023-10-17T10:00:00Z', iconClass: 'fa-solid fa-user-doctor' },
            { id: 'braden', name: 'Escala de Braden', category: 'Pele', type: 'scale', description: 'Risco de lesão por pressão', filename: BASE_URL + 'braden.html', created_at: '2023-10-18T10:00:00Z', iconClass: 'fas fa-bed' },
            { id: 'cam-icu', name: 'Escala CAM-ICU', category: 'UTI', type: 'scale', description: 'Avaliação de delirium em UTI', filename: BASE_URL + 'cam.html', created_at: '2023-10-19T10:00:00Z', iconClass: 'fas fa-hospital-alt' },
            { id: 'capurro', name: 'Método de Capurro', category: 'Neonatalogia', type: 'scale', description: 'Método para estimar a idade gestacional de de RN\'s', filename: BASE_URL + 'capurro.html', created_at: '2023-10-20T10:00:00Z', iconClass: 'fas fa-baby-carriage' },
            { id: 'cincinnati', name: 'Escala de Cincinnati', category: 'AVC', type: 'scale', description: 'Avaliação de AVE', filename: BASE_URL + 'cincinnati.html', created_at: '2023-10-21T10:00:00Z', iconClass: 'fas fa-hospital-user' },
            { id: 'cornell', name: 'Escala de Cornell', category: 'Psiquiatria', type: 'scale', description: 'Classificação de depressão em paciente com demência', filename: BASE_URL + 'cornell.html', created_at: '2023-10-22T10:00:00Z', iconClass: 'fas fa-notes-medical' },
            { id: 'cries', name: 'Escala de CRIES', category: 'Dor', type: 'scale', description: 'Avaliação de dor dos recém-nascidos', filename: BASE_URL + 'cries.html', created_at: '2023-10-23T10:00:00Z', iconClass: 'fa-solid fa-child' },
            { id: 'curb-65', name: 'Escala de CURB-65', category: 'Pneumologia', type: 'scale', description: 'Avaliação de Gravidade em Pneumonia Adquirida na Comunidade', filename: BASE_URL + 'curb-65.html', created_at: '2023-10-24T10:00:00Z', iconClass: 'fa-solid fa-lungs-virus' },
            { id: 'downton', name: 'Escala de Downton', category: 'Segurança', type: 'scale', description: 'Avalia o risco de queda em pacientes idosos', filename: BASE_URL + 'downton.html', created_at: '2023-11-01T10:00:00Z', iconClass: 'fa-solid fa-shower' },
            { id: 'elpo', name: 'Escala de ELPO', category: 'Pele', type: 'scale', description: 'Avaliação lesão por pressão em bloco operatório', filename: BASE_URL + 'elpo.html', created_at: '2023-11-02T10:00:00Z', iconClass: 'fas fa-child' },
            { id: 'fast', name: 'Escala de FAST', category: 'AVC', type: 'scale', description: 'Avaliação de risco de AVE', filename: BASE_URL + 'fast.html', created_at: '2023-11-03T10:00:00Z', iconClass: 'fa-solid fa-person-walking-with-cane' },
            { id: 'flacc', name: 'Escala de FLACC', category: 'Dor', type: 'scale', description: 'Avaliação de dor em crianças não verbal', filename: BASE_URL + 'flacc.html', created_at: '2023-11-04T10:00:00Z', iconClass: 'fas fa-hospital-alt' },
            { id: 'four', name: 'Escala de FOUR', category: 'Neurologia', type: 'scale', description: 'Avaliação neurológica', filename: BASE_URL + 'four.html', created_at: '2023-11-05T10:00:00Z', iconClass: 'fa-solid fa-user-nurse' },
            { id: 'fugulin-scp', name: 'Escala de Fugulin (SCP)', category: 'Gestão', type: 'scale', description: 'Avaliação do grau de Complexidade do paciente.', filename: BASE_URL + 'fugulin.html', created_at: '2023-11-06T10:00:00Z', iconClass: 'fas fa-hospital-alt' },
            { id: 'gds', name: 'Escala de GDS', category: 'Geriatria', type: 'scale', description: 'Depressão do paciente geriátrico', filename: BASE_URL + 'gds.html', created_at: '2023-11-07T10:00:00Z', iconClass: 'fas fa-child' },
            // ADICIONADO GLASGOW DO SITEMAP
            { id: 'glasgow', name: 'Escala de Coma de Glasgow', category: 'Neurologia', type: 'scale', description: 'Nível de consciência', filename: BASE_URL + 'glasgow.html', created_at: '2023-11-08T10:00:00Z', iconClass: 'fa-solid fa-eye' },
            { id: 'gosnell', name: 'Escala de Gosnell', category: 'Pele', type: 'scale', description: 'Risco de lesão por pressão', filename: BASE_URL + 'gosnell.html', created_at: '2023-11-09T10:00:00Z', iconClass: 'fa-solid fa-weight-scale' },
            { id: 'hamilton', name: 'Escala de Hamilton', category: 'Psiquiatria', type: 'scale', description: 'Avalia gravidade dos sintomas de Ansiedade', filename: BASE_URL + 'hamilton.html', created_at: '2023-11-10T10:00:00Z', iconClass: 'fas fa-file-medical-alt' },
            { id: 'humpty-dumpty', name: 'Escala de Humpty - Dumpty', category: 'Segurança', type: 'scale', description: 'Risco de quedas em pacientes pediátricos', filename: BASE_URL + 'humpty.html', created_at: '2023-11-11T10:00:00Z', iconClass: 'fas fa-file-medical-alt' },
            { id: 'johns', name: 'Escala de Johns', category: 'Segurança', type: 'scale', description: 'Avalia risco de queda', filename: BASE_URL + 'johns.html', created_at: '2023-11-12T10:00:00Z', iconClass: 'fa-solid fa-person-walking-with-cane' },
            { id: 'jouvet', name: 'Escala de Jouvet', category: 'Neurologia', type: 'scale', description: 'Escala de coma/consciência', filename: BASE_URL + 'jouvet.html', created_at: '2023-11-13T10:00:00Z', iconClass: 'fas fa-bed' },
            { id: 'katz', name: 'Escala de Katz', category: 'Funcional', type: 'scale', description: 'Avaliação de autonomia nas ABVDs', filename: BASE_URL + 'katz.html', created_at: '2023-11-14T10:00:00Z', iconClass: 'fa-solid fa-bath' },
            { id: 'lachs', name: 'Escala de Lachs', category: 'Funcional', type: 'scale', description: 'Avaliação da capacidade funcional do idoso', filename: BASE_URL + 'lachs.html', created_at: '2023-11-15T10:00:00Z', iconClass: 'fa-solid fa-person-walking-with-cane' },
            { id: 'lanss', name: 'Escala de LANSS', category: 'Dor', type: 'scale', description: 'Avaliação de dor neuropática', filename: BASE_URL + 'lanss.html', created_at: '2023-11-16T10:00:00Z', iconClass: 'fas fa-user-nurse' },
            { id: 'lawton', name: 'Escala de Lawton', category: 'Funcional', type: 'scale', description: 'Mede o grau de independência nas AIVD em idosos', filename: BASE_URL + 'lawton.html', created_at: '2023-11-17T10:00:00Z', iconClass: 'fa-solid fa-mug-saucer' },
            { id: 'manchester', name: 'Escala de Manchester', category: 'Triagem', type: 'scale', description: 'Prioridade de atendimento do paciente em Unidades de pronto atendimento', filename: BASE_URL + 'manchester.html', created_at: '2023-11-18T10:00:00Z', iconClass: 'fas fa-clinic-medical' },
            { id: 'meem', name: 'Escala de MEEM', category: 'Cognitivo', type: 'scale', description: 'Rastreio cognitivo de déficits', filename: BASE_URL + 'meem.html', created_at: '2023-11-19T10:00:00Z', iconClass: 'fas fa-wheelchair' },
            { id: 'meows', name: 'Escala de MEOWS', category: 'Obstetrícia', type: 'scale', description: 'Escore de alerta obstétrico precoce/ Avalia Deterioração clínica', filename: BASE_URL + 'meows.html', created_at: '2023-11-20T10:00:00Z', iconClass: 'fas fa-notes-medical' },
            { id: 'morse', name: 'Escala de Morse', category: 'Segurança', type: 'scale', description: 'Risco de quedas', filename: BASE_URL + 'morse.html', created_at: '2023-11-21T10:00:00Z', iconClass: 'fas fa-walking' },
            { id: 'news', name: 'Escala de NEWS', category: 'Alerta Clínico', type: 'scale', description: 'Escore de alerta precoce adulto/ Avalia Deterioração clínica', filename: BASE_URL + 'news.html', created_at: '2023-11-22T10:00:00Z', iconClass: 'fas fa-chart-line' },
            { id: 'nihss', name: 'Escala NIHSS', category: 'AVC', type: 'scale', description: 'Avaliação de AVE', filename: BASE_URL + 'nihss.html', created_at: '2023-11-23T10:00:00Z', iconClass: 'fas fa-brain' },
            { id: 'nips', name: 'Escala de NIPS', category: 'Dor', type: 'scale', description: 'Ferramenta para avaliar a dor em recém-nascidos', filename: BASE_URL + 'nips.html', created_at: '2023-11-24T10:00:00Z', iconClass: 'fa-solid fa-eye-dropper' },
            { id: 'norton', name: 'Escala de Norton', category: 'Pele', type: 'scale', description: 'Risco de lesão por pressão', filename: BASE_URL + 'norton.html', created_at: '2023-11-25T10:00:00Z', iconClass: 'fas fa-file-medical-alt' },
            { id: 'numerica-dor', name: 'Escala Numérica de Dor', category: 'Dor', type: 'scale', description: 'Escala de dor numérica', filename: BASE_URL + 'escalanumerica.html', created_at: '2023-11-26T10:00:00Z', iconClass: 'fas fa-hospital-alt' },
            { id: 'ofras', name: 'Escala de OFRAS', category: 'Segurança', type: 'scale', description: 'Risco de quedas em pacientes obstétricas', filename: BASE_URL + 'ofras.html', created_at: '2023-11-27T10:00:00Z', iconClass: 'fa-solid fa-square-plus' },
            { id: 'painad', name: 'Escala de PAINAD', category: 'Dor', type: 'scale', description: 'Avaliação da Dor em Demência Avançada', filename: BASE_URL + 'painad.html', created_at: '2023-11-28T10:00:00Z', iconClass: 'fa-solid fa-hand-holding-medical' },
            { id: 'pelod', name: 'Escala de PELOD', category: 'Pediatria', type: 'scale', description: 'Gravidade e risco precoce em crianças na UTIP', filename: BASE_URL + 'pelod.html', created_at: '2023-11-29T10:00:00Z', iconClass: 'fa-solid fa-comment-medical' },
            { id: 'perroca-scp', name: 'Classificação de paciente Perroca (SCP)', category: 'Gestão', type: 'scale', description: 'Classificação do paciente segundo suas complexidades.', filename: BASE_URL + 'perroca.html', created_at: '2023-11-30T10:00:00Z', iconClass: 'fas fa-hospital-alt' },
            { id: 'pews', name: 'Escala de PEWS', category: 'Alerta Clínico', type: 'scale', description: 'Alerta clínico precoce pediátrico/ Avalia Deterioração clínica', filename: BASE_URL + 'pews.html', created_at: '2023-12-01T10:00:00Z', iconClass: 'fas fa-notes-medical' },
            { id: 'prism', name: 'Escala PRISM', category: 'Pediatria', type: 'scale', description: 'Risco de mortalidade em UTIP', filename: BASE_URL + 'prism.html', created_at: '2023-12-02T10:00:00Z', iconClass: 'fas fa-lungs' },
            { id: 'qsofa', name: 'Escala qSOFA', category: 'Alerta Clínico', type: 'scale', description: 'Triagem rápida para sepse', filename: BASE_URL + 'qsofa.html', created_at: '2023-12-03T10:00:00Z', iconClass: 'fas fa-lungs' },
            { id: 'ramsay', name: 'Escala de Ramsay (Sedação)', category: 'Sedação', type: 'scale', description: 'Avaliação de nível de sedação', filename: BASE_URL + 'ramsay.html', created_at: '2024-01-01T10:00:00Z', iconClass: 'fas fa-sleep' }, 
            { id: 'rancho-los-amigos', name: 'Escala de Rancho Los Amigos', category: 'Neurologia', type: 'scale', description: 'Padrões cognitivos e comportamentais de pacientes com lesão cerebral', filename: BASE_URL + 'rancholosamigos.html', created_at: '2023-12-04T10:00:00Z', iconClass: 'fas fa-user-md' },
            { id: 'richmond', name: 'Escala de Richmond (RASS)', category: 'Sedação', type: 'scale', description: 'Sedação e agitação', filename: BASE_URL + 'richmond.html', created_at: '2023-12-05T10:00:00Z', iconClass: 'fas fa-user-md' },
            { id: 'saps-iii', name: 'Escala de SAPS III', category: 'UTI', type: 'scale', description: 'Porcentagem de Índice de mortalidade em UTI', filename: BASE_URL + 'saps.html', created_at: '2023-12-06T10:00:00Z', iconClass: 'fas fa-hospital-alt' },
            { id: 'silverman-anderson', name: 'Boletim de Silverman e Anderson', category: 'Neonatalogia', type: 'scale', description: 'Grau de desconforto respiratório em RN.', filename: BASE_URL + 'silverman.html', created_at: '2023-12-07T10:00:00Z', iconClass: 'fas fa-notes-medical' },
            { id: 'sofa', name: 'Escala SOFA', category: 'UTI', type: 'scale', description: 'Disfunção orgânica em sepse', filename: BASE_URL + 'sofa.html', created_at: '2023-12-08T10:00:00Z', iconClass: 'fas fa-heartbeat' },
            { id: 'tinetti', name: 'Escala de Tinetti (POMA)', category: 'Segurança', type: 'scale', description: 'Avalia risco de queda em idosos observando marcha e equilíbrio', filename: BASE_URL + 'tinetti.html', created_at: '2023-12-09T10:00:00Z', iconClass: 'fa-solid fa-person-walking-with-cane' },
            { id: 'waterlow', name: 'Escala de Waterlow', category: 'Pele', type: 'scale', description: 'Risco de lesão por pressão', filename: BASE_URL + 'waterlow.html', created_at: '2023-12-10T10:00:00Z', iconClass: 'fa-solid fa-weight-scale' },
            { id: 'wood-downes', name: 'Escala Wood e Downes', category: 'Neonatalogia', type: 'scale', description: 'Desconforto respiratório em RN', filename: BASE_URL + 'downes.html', created_at: '2023-12-11T10:00:00Z', iconClass: 'fa-solid fa-stethoscope' },
            { id: 'zarit', name: 'Escala de Zarit', category: 'Cuidadores', type: 'scale', description: 'Avaliação do grau de sobrecarga do cuidador familiar', filename: BASE_URL + 'zarit.html', created_at: '2023-12-12T10:00:00Z', iconClass: 'fa-solid fa-hospital-user' },
        ];

        // RESTAURANDO ÍCONES DE VACINAS PARA SEREM IGUAIS (fas fa-syringe)
        const vaccineIconClass = 'fas fa-syringe';
        
        // Mantendo as URLs das vacinas relativas no JS, pois não foram fornecidas URLs completas para todas
        const vaccineToolsData = [
            { id: 'vacina-prematuro', name: 'Prematuro', category: 'Vacinas', type: 'info', description: 'Calendário vacinal para bebês prematuros.', filename: 'tabelas-vacinas-crianca.html', created_at: '2023-09-01T10:00:00Z', iconClass: vaccineIconClass },
            { id: 'vacina-criancas', name: 'Crianças (0 a <10 anos)', category: 'Vacinas', type: 'info', description: 'Calendário vacinal infantil.', filename: 'tabelas-vacinas-crianca.html', created_at: '2023-09-02T10:00:00Z', iconClass: vaccineIconClass },
            { id: 'vacina-adolescentes', name: 'Adolescentes (10 a 19 anos)', category: 'Vacinas', type: 'info', description: 'Calendário vacinal para adolescentes.', filename: 'tabelas-vacinas-crianca.html', created_at: '2023-09-03T10:00:00Z', iconClass: vaccineIconClass },
            { id: 'vacina-adultos', name: 'Adultos (20 a 59 anos)', category: 'Vacinas', type: 'info', description: 'Calendário vacinal para adultos.', filename: 'tabelas-vacinas-crianca.html', created_at: '2023-09-04T10:00:00Z', iconClass: vaccineIconClass },
            { id: 'vacina-idosos', name: 'Idosos (mais de 60 anos)', category: 'Vacinas', type: 'info', description: 'Calendário vacinal para idosos.', filename: 'tabelas-vacinas-crianca.html', created_at: '2023-09-05T10:00:00Z', iconClass: vaccineIconClass },
            { id: 'vacina-gestantes', name: 'Gestantes', category: 'Vacinas', type: 'info', description: 'Calendário vacional para gestantes.', filename: 'tabelas-vacinas-crianca.html', created_at: '2023-09-06T10:00:00Z', iconClass: vaccineIconClass },
            { id: 'vacina-pacientes-especiais', name: 'Pacientes Especiais', type: 'info', description: 'Calendário para pacientes com condições especiais.', filename: 'tabelas-vacinas-crianca.html', created_at: '2023-09-07T10:00:00Z', iconClass: vaccineIconClass },
            { id: 'vacina-ocupacional', name: 'Ocupacional', category: 'Vacinas', type: 'info', description: 'Calendário vacinal para profissionais de saúde', filename: 'tabelas-vacinas-crianca.html', created_at: '2023-09-08T10:00:00Z', iconClass: vaccineIconClass },
            { id: 'vacina-pneumococicas', name: 'Vacinas Pneumocócicas', category: 'Vacinas', type: 'info', description: 'Calendário para pacientes com condições especiais.', filename: 'tabelas-vacinas-crianca.html', created_at: '2023-09-09T10:00:00Z', iconClass: vaccineIconClass },
        ];

        // Mapeamento de ícones do Font Awesome para Acesso Rápido e Controles (Utility Icons)
        const utilIcons = {
            search: 'fas fa-search',
            clear: 'fas fa-sync-alt', // refresh-ccw
            grid: 'fas fa-th', // layout-grid
            list: 'fas fa-list',
            details: 'fas fa-clipboard-list',
            compact: 'fas fa-list-alt',
            back: 'fas fa-arrow-left',
            noResults: 'fas fa-exclamation-circle', // alert-circle
            // Ícones de ação (botões dentro dos cards)
            calculator: 'fas fa-calculator', 
            calendar: 'fas fa-calendar-alt',
            sort: 'fas fa-sort-alpha-down',
            heartbeat: 'fas fa-heartbeat', // Novo ícone para Escalas Clínicas
            clipboard: 'fas fa-clipboard', // Novo ícone para Plano de Enfermagem
            // Ícone de impressão removido e substituído por seta para baixo
            dropdown: 'fas fa-chevron-down', 
        };

        // RESTAURANDO ÍCONES DO ACESSO RÁPIDO COM NOVOS ÍCONES
        const quickAccessLinks = [
            { id: 'qa-calc', name: 'Calculadoras', iconClass: utilIcons.calculator, href: '#calculadoras' },
            { id: 'qa-escalas', name: 'Escalas Clínicas', iconClass: utilIcons.heartbeat, href: '#escalas' }, 
            { id: 'qa-vacinas', name: 'Vacinas', iconClass: vaccineIconClass, href: '#vacinas' }, // Usando a seringa
            { id: 'qa-plano', name: 'Plano de Enfermagem', iconClass: utilIcons.clipboard, href: '#' }, // Usando novo clipboard
        ];

        const sortOptions = [
            { value: 'name-asc', label: 'Nome (A-Z)' },
            { value: 'name-desc', label: 'Nome (Z-A)' },
            { value: 'date-desc', label: 'Recentes' },
            { value: 'date-asc', label: 'Antigos' },
        ];

        // Novas opções de visualização
        const viewOptions = [
            { value: 'icon-xl', label: 'Ícones Extra Grandes', icon: 'fas fa-square-full', sizeClass: 'icon-size-xl', isGrid: true },
            { value: 'icon-lg', label: 'Ícones Grandes', icon: 'fas fa-square-full', sizeClass: 'icon-size-lg', isGrid: true },
            { value: 'icon-md', label: 'Ícones Médios', icon: 'fas fa-square-full', sizeClass: 'icon-size-md', isGrid: true },
            { value: 'icon-sm', label: 'Ícones Pequenos', icon: 'fas fa-square-full', sizeClass: 'icon-size-sm', isGrid: true },
            { value: 'grid', label: 'Blocos (Padrão)', icon: 'fas fa-th', sizeClass: 'text-4xl', isGrid: true },
            { value: 'list', label: 'Lista', icon: 'fas fa-list', isGrid: false, showDescription: false, isCompact: false },
            { value: 'details', label: 'Detalhes', icon: 'fas fa-clipboard-list', isGrid: false, showDescription: true, isCompact: false },
            { value: 'content', label: 'Conteúdos', icon: 'fas fa-book', isGrid: false, showDescription: true, isCompact: false },
            { value: 'compact', label: 'Exibição Compacta', icon: 'fas fa-list-alt', isGrid: false, showDescription: false, isCompact: true },
        ];
        
        const allTools = [...TOOLS_DATA, ...vaccineToolsData];

        // --- ESTADO DA APLICAÇÃO ---
        let state = {
            inputValue: "",
            searchTerm: "",
            viewMode: 'grid', // 'grid' é o padrão inicial
            sortCriteria: 'name-asc', // Critério de ordenação
            showIcons: true,
        };

        // --- REFERÊNCIAS DO DOM ---
        // Acessível globalmente
        const quickAccessContainer = document.getElementById('quick-access-container');
        const searchInput = document.getElementById('search-input');
        const searchButton = document.getElementById('search-button');
        const clearButton = document.getElementById('clear-button');
        const controlsContainer = document.getElementById('controls-container');
        
        const calculatorsSection = document.getElementById('calculators-section');
        const scalesSection = document.getElementById('scales-section');
        const vaccinesSection = document.getElementById('vaccines-section');
        
        const calculatorsContainer = document.getElementById('calculators-container');
        const scalesContainer = document.getElementById('scales-container');
        const vaccinesContainer = document.getElementById('vaccines-container');
        
        const noResultsEl = document.getElementById('no-results');

        // NOVAS REFERÊNCIAS PARA TROCA DE VIEW
        const toolView = document.getElementById('tool-view');
        const dashboardViews = [
            document.getElementById('header-card'),
            document.getElementById('quick-access-card'),
            document.getElementById('search-card'),
            document.getElementById('tools-card')
        ];
        // Referência do Breadcrumbs (adicionada do template principal)
        const breadcrumbs = document.getElementById('breadcrumbs');

        // --- FUNÇÕES DE TEMPLATE (Componentes) ---
        function QuickAccessCard(item) {
            return `
            <a href="${item.href}" data-anchor-target="${item.href}" class="group quick-access-card">
                <div class="aspect-square hover:shadow-xl transition-all duration-300 cursor-pointer border-2 hover:border-[#1A3E74] overflow-hidden bg-white rounded-2xl">
                    <div class="p-5 flex flex-col items-center justify-center text-center h-full">
                        <div class="p-3 bg-[#1A3E74]/10 rounded-lg mb-3">
                            <i class="${item.iconClass} w-8 h-8 text-[#1A3E74]"></i>
                        </div>
                        <p class="text-lg font-bold text-[#1A3E74]">${item.name}</p>
                    </div>
                </div>
            </a>
            `;
        }
        
        // Template para modos de visualização em Grelha (Grid/Ícones)
        function ToolCard(tool, viewOptions) {
            const sizeClass = viewOptions.sizeClass || 'text-4xl'; // Padrão
            
            let badgeText = 'Escala'; let badgeClass = 'bg-blue-50 text-blue-700 border-blue-200'; let buttonText = 'Classificar'; let buttonIconClass = utilIcons.calculator;
            if (tool.type === 'calculator') { badgeText = 'Calculadora'; badgeClass = 'bg-green-50 text-green-700 border-green-200'; buttonText = 'Calcular'; } else if (tool.type === 'info') { badgeText = 'Informação'; badgeClass = 'bg-purple-50 text-purple-700 border-purple-200'; buttonText = 'Consultar'; buttonIconClass = utilIcons.calendar; }
            
            // Link para navegação multi-página
            const toolHref = tool.filename || '#';

            return `
            <a href="${toolHref}" class="group tool-card hover:shadow-xl transition-all duration-300 cursor-pointer border-2 hover:border-[#1A3E74] overflow-hidden flex flex-col bg-white rounded-2xl icon-view-card" title="Acessar: ${tool.name}">
                <div class="flex-grow p-5 pb-3">
                    <div class="flex items-start justify-between mb-2">
                        <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${badgeClass}">
                            ${badgeText}
                        </span>
                        ${state.showIcons && tool.iconClass ? `
                        <div class="text-[#1A3E74] opacity-50 group-hover:opacity-100 transition-opacity card-icon ${sizeClass}">
                            <i class="${tool.iconClass}"></i>
                        </div>
                        ` : ''}
                    </div>
                    <h3 class="text-lg font-bold text-[#1A3E74] group-hover:text-[#1A3E74] transition-colors flex items-center justify-between">
                        <span class="flex-1 mr-2 line-clamp-2 min-h-[40px]">${tool.name}</span>
                    </h3>
                </div>
                <div class="px-5 pt-0">
                    <p class="text-sm text-gray-600 leading-relaxed line-clamp-3 min-h-[60px]">${tool.description}</p>
                </div>
                <div class="p-5 pt-0 mt-auto">
                    <div class="w-full h-[60px] bg-[#1A3E74] text-white rounded-xl font-semibold shadow-sm hover:bg-[#15325e] transition-colors text-lg flex justify-center items-center">
                        <i class="${buttonIconClass} w-5 h-5 mr-2"></i> ${buttonText}
                    </div>
                </div>
            </a>
            `;
        }

        // Template para modos de visualização em Lista (List/Details/Compact)
        function ToolListItem(tool, viewOptions) {
            const isCompact = viewOptions.isCompact;
            const showDescription = viewOptions.showDescription || viewOptions.value === 'content'; // Mostrar descrição para Detalhes e Conteúdos
            
            let badgeText = 'Escala'; let badgeClass = 'bg-blue-100 text-blue-800'; let buttonText = 'Classificar'; let buttonIconClass = utilIcons.calculator;
            if (tool.type === 'calculator') { badgeText = 'Calculadora'; badgeClass = 'bg-green-100 text-green-800'; buttonText = 'Calcular'; } else if (tool.type === 'info') { badgeText = 'Informação'; badgeClass = 'bg-purple-100 text-purple-800'; buttonText = 'Consultar'; buttonIconClass = utilIcons.calendar; }

            const itemPadding = isCompact ? 'p-3' : 'p-4';
            const iconContainer = isCompact ? 'p-2' : 'p-3';
            const iconSize = isCompact ? 'w-4 h-4' : 'w-6 h-6';
            const nameClass = isCompact ? 'text-sm' : 'text-base';
            const descriptionHTML = showDescription 
                ? `<p class="text-xs text-gray-500 line-clamp-1">${tool.description}</p>` 
                : '';
            const buttonClass = isCompact ? 'h-8 px-2 text-xs' : 'h-10 px-3 py-1.5 text-sm';
            const buttonIconSize = isCompact ? 'w-3 h-3 mr-1' : 'w-4 h-4 mr-2';

            const toolHref = tool.filename || '#';

            return `
            <a href="${toolHref}" class="tool-list-item hover:shadow-lg transition-shadow duration-300 cursor-pointer bg-white rounded-lg border" title="Acessar: ${tool.name}">
                <div class="${itemPadding} flex items-center justify-between gap-4">
                    ${state.showIcons && tool.iconClass ? `
                    <div class="${iconContainer} bg-gray-100 rounded-lg text-[#1A3E74] flex-shrink-0">
                        <i class="${tool.iconClass} ${iconSize}"></i>
                    </div>
                    ` : ''}
                    <div class="flex-1 min-w-0">
                        <div class="flex items-center gap-2 mb-1 flex-wrap">
                            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold ${badgeClass}">
                                ${badgeText}
                            </span>
                            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-700 border border-gray-200">
                                ${tool.category}
                            </span>
                        </div>
                        <h3 class="${nameClass} font-bold text-[#1A3E74] line-clamp-1">
                            ${tool.name}
                        </h3>
                        ${descriptionHTML}
                    </div>
                    <div class="flex items-center gap-2 flex-shrink-0">
                        <div title="${buttonText}" class="bg-[#1A3E74] text-white rounded-xl font-semibold shadow-sm hover:bg-[#15325e] transition-colors flex justify-center items-center ${buttonClass}">
                            <i class="${buttonIconClass} ${buttonIconSize}"></i> ${buttonText}
                        </div>
                    </div>
                </div>
            </a>
            `;
        }

        // --- FUNÇÕES DE RENDERIZAÇÃO ---
        
        // FUNÇÃO DE RENDERIZAÇÃO DE ACESSO RÁPIDO 
        function renderQuickAccess() { 
            quickAccessContainer.innerHTML = quickAccessLinks.map(QuickAccessCard).join(''); 
        }

        function renderControls() {
            const isAsc = state.sortCriteria.endsWith('asc');
            const sortIcon = isAsc ? 'fa-sort-alpha-down' : 'fa-sort-alpha-up';
            
            const sortHtml = `
                <div class="flex items-center gap-2">
                    <label for="sort-select" class="text-sm font-medium text-gray-600 hidden sm:flex items-center gap-1">
                        Classificar 
                        <!-- ÍCONE DE SETA PARA BAIXO ADICIONADO -->
                        <i class="${utilIcons.dropdown} w-3 h-3 text-gray-500"></i>
                    </label>
                    <div class="sort-select-wrapper w-full sm:w-auto">
                        <i class="sort-select-icon fas ${sortIcon} w-4 h-4"></i>
                        <select id="sort-select" class="native-select h-10 text-sm w-full sm:w-40 bg-white shadow-sm border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1A3E74]">
                            ${sortOptions.map(opt => 
                                `<option value="${opt.value}" ${state.sortCriteria === opt.value ? 'selected' : ''}>${opt.label}</option>`
                            ).join('')}
                        </select>
                    </div>
                </div>
            `;

            // NOVO MENU SUSPENSO PARA VISUALIZAÇÃO
            // O menu já está configurado com 'mt-2' para abrir para baixo
            const viewDropdownHtml = `
            <div id="view-dropdown-wrapper" class="relative z-40 flex items-center gap-2 flex-wrap">
                <label class="text-sm font-medium text-gray-600 hidden md:block">Visualizar:</label>
                <button id="viewButton" class="flex items-center gap-2 p-2 bg-gray-100 rounded-lg shadow-sm hover:bg-gray-200 transition-colors" aria-expanded="false" aria-controls="viewMenu">
                    <i class="${viewOptions.find(opt => opt.value === state.viewMode)?.icon || 'fas fa-th'} text-gray-700"></i>
                    <span class="text-sm font-semibold text-gray-700">${viewOptions.find(opt => opt.value === state.viewMode)?.label || 'Blocos (Padrão)'}</span>
                    <i class="fas fa-chevron-down text-xs text-gray-500"></i>
                </button>
                <div id="viewMenu" class="absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-xl py-1 hidden ring-1 ring-gray-200">
                    ${viewOptions.map(opt => `
                        <button 
                            data-view-mode="${opt.value}" 
                            class="view-mode-button flex items-center gap-2 p-2 w-full text-left cursor-pointer hover:bg-gray-100 ${state.viewMode === opt.value ? 'bg-gray-50 font-semibold text-[#1A3E74]' : 'text-gray-700'}"
                        >
                            <i class="${opt.icon} w-4 h-4"></i>
                            <span>${opt.label}</span>
                        </button>
                    `).join('')}
                </div>
                <div class="flex items-center gap-2 pl-3">
                    <input 
                        type="checkbox" 
                        id="show-icons-toggle"
                        ${state.showIcons ? 'checked' : ''}
                        class="w-4 h-4 text-[#1A3E74] rounded border-gray-300 focus:ring-[#1A3E74]"
                    />
                    <label for="show-icons-toggle" class="text-sm font-medium text-gray-700 cursor-pointer">
                        Mostrar Ícones
                    </label>
                </div>
            </div>
            `;

            controlsContainer.innerHTML = `
                <div class="flex flex-col md:flex-row justify-between items-center gap-4 w-full">
                    ${sortHtml}
                    ${viewDropdownHtml}
                </div>
            `;
            // Re-adiciona listeners para o novo botão de visualização e menu
            document.getElementById("viewButton").addEventListener("click", toggleViewMenu);
            document.getElementById("viewMenu").addEventListener("click", handleViewMenuClick);
        }

        function renderTools() {
            const term = state.searchTerm.toLowerCase();
            const filteredTools = !term ? allTools : allTools.filter(tool =>
                tool.name.toLowerCase().includes(term) ||
                tool.category.toLowerCase().includes(term) ||
                tool.description.toLowerCase().includes(term)
            );
            const [key, order] = state.sortCriteria.split('-');
            const sortedTools = [...filteredTools].sort((a, b) => {
                let compareA, compareB;
                if (key === 'name') {
                    compareA = a.name.toLowerCase(); compareB = b.name.toLowerCase();
                } else { 
                    compareA = new Date(a.created_at || 0); compareB = new Date(b.created_at || 0);
                }
                if (compareA < compareB) return order === 'asc' ? -1 : 1;
                if (compareA > compareB) return order === 'asc' ? 1 : -1;
                return 0;
            });

            const currentView = viewOptions.find(opt => opt.value === state.viewMode) || viewOptions.find(opt => opt.value === 'grid');

            // Define o template e as classes de contêiner
            let template, containerClass;
            if (currentView.isGrid) {
                template = (tool) => ToolCard(tool, currentView);
                // Define classes de grid baseadas no tamanho do ícone/colunas
                const columnClasses = {
                    'icon-size-xl': 'grid-cols-1 md:grid-cols-2 gap-8',
                    'icon-size-lg': 'grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6',
                    'icon-size-md': 'grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4', // Blocos
                    'icon-size-sm': 'grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4',
                    'text-4xl': 'grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6', // Padrão 'grid'
                }[currentView.sizeClass] || 'grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6';
                
                containerClass = `grid ${columnClasses} mt-8`;
            } else {
                template = (tool) => ToolListItem(tool, currentView);
                containerClass = currentView.isCompact ? 'space-y-2 mt-4' : 'space-y-4 mt-8';
            }
            
            const renderSection = (tools, containerEl, sectionEl) => {
                containerEl.className = containerClass;
                containerEl.innerHTML = tools.map(template).join('');
                sectionEl.style.display = tools.length > 0 ? 'block' : 'none';
            };

            const calculators = sortedTools.filter(t => t.type === 'calculator');
            const scales = sortedTools.filter(t => t.type === 'scale');
            const vaccineTools = sortedTools.filter(t => t.type === 'info');


            renderSection(calculators, calculatorsContainer, calculatorsSection);
            renderSection(scales, scalesContainer, scalesSection);
            renderSection(vaccineTools, vaccinesContainer, vaccinesSection);

            noResultsEl.style.display = sortedTools.length === 0 ? 'block' : 'none';
        }

        function mainRender() {
            renderControls();
            renderTools();
        }

        // --- FUNÇÕES DE LÓGICA DE UI ---
        function updateBreadcrumbs(toolName) {
            // Remove o prefixo "Início / Calculadoras" se estiver na página inicial do app
            let breadcrumbsHtml = '';
            if (toolName) {
                // Ao abrir uma ferramenta, exibe o caminho completo
                breadcrumbsHtml = `<span class="text-gray-400">Início</span> / <a href="#" id="breadcrumb-home" class="hover:underline text-gray-500">Calculadoras</a> / <span class="text-[#1A3E74] font-semibold">${toolName}</span>`;
            }
            breadcrumbs.innerHTML = breadcrumbsHtml;
            // Adiciona listener para o link "Calculadoras"
            document.getElementById('breadcrumb-home')?.addEventListener('click', (e) => {
                e.preventDefault();
                toggleDashboard(true);
            });
        }
        
        function toggleDashboard(show) {
            const toolViewEl = document.getElementById('tool-view');
            
            if (show) {
                dashboardViews.forEach(view => view.classList.remove('hidden'));
                toolViewEl.classList.add('hidden');
                toolViewEl.innerHTML = '';
                updateBreadcrumbs(null);
            } else {
                dashboardViews.forEach(view => view.classList.add('hidden'));
                toolViewEl.classList.remove('hidden');
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        function handleToolClick(toolId) {
            const tool = allTools.find(t => t.id === toolId);
            if (!tool) return;

            // Navegação para a URL da ferramenta (modo multi-página)
            if (tool.filename) {
                window.location.href = tool.filename;
                return; 
            }

            // Fallback (mantido o conteúdo se a lógica de multi-página for desativada)
            updateBreadcrumbs(tool.name);

            // 1. Gerar o HTML para a vista da ferramenta
            const backButtonHtml = `
                <button id="back-to-dashboard" class="mb-6 inline-flex items-center px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-medium">
                    <i class="${utilIcons.back} w-5 h-5 mr-2"></i>
                    Voltar às Ferramentas
                </button>`;

            let toolContentHtml;
            if (tool.type === 'calculator' || tool.type === 'scale') {
                toolContentHtml = `<p class="text-xl text-center text-gray-700 font-semibold mb-8">Calculadora/Escala Ativa: ${tool.name}</p>
                                   <div class="p-8 bg-gray-50 border border-gray-200 rounded-xl text-center">
                                       <i class="fas fa-hammer text-4xl text-yellow-500 mb-3"></i>
                                       <p>A interface completa e funcional para a ferramenta **${tool.name}** seria construída aqui, permitindo a entrada de dados e exibindo o resultado.</p>
                                   </div>`;
            } else { // type: 'info' (Vacinas)
                toolContentHtml = `<p class="text-xl text-center text-gray-700 font-semibold mb-8">Informação Detalhada: ${tool.name}</p>
                                   <div class="p-8 bg-gray-50 border border-gray-200 rounded-xl text-center">
                                       <i class="fas fa-book-medical text-4xl text-purple-600 mb-3"></i>
                                       <p>Tabela ou conteúdo informativo sobre o **${tool.name}** seria exibido nesta área.</p>
                                   </div>`;
            }

            document.getElementById('tool-view').innerHTML = `
                ${backButtonHtml}
                <div class="bg-white p-6 md:p-8 rounded-2xl shadow-sm">
                    <h2 class="text-3xl font-bold text-[#1A3E74] mb-4">${tool.name}</h2>
                    <p class="text-lg text-gray-600 mb-6 pb-6 border-b">${tool.description}</p>
                    <div class="mt-6">
                        ${toolContentHtml}
                    </div>
                </div>
            `;

            // 2. Esconder o dashboard e mostrar a ferramenta
            toggleDashboard(false);
        }

        function handleSearch() {
            state.searchTerm = state.inputValue;
            mainRender();
        }

        function handleClear() {
            state.inputValue = "";
            state.searchTerm = "";
            searchInput.value = "";
            mainRender();
        }

        // Funções para o novo menu suspenso de visualização
        const toggleViewMenu = () => {
            const viewButton = document.getElementById("viewButton");
            const viewMenu = document.getElementById("viewMenu");

            if (!viewButton || !viewMenu) return;

            viewMenu.classList.toggle("hidden");
            viewButton.setAttribute('aria-expanded', !viewMenu.classList.contains('hidden'));
        };

        const closeViewMenu = () => {
            const viewButton = document.getElementById("viewButton");
            const viewMenu = document.getElementById("viewMenu");

            if (!viewMenu) return;

            viewMenu.classList.add("hidden");
            if (viewButton) viewButton.setAttribute('aria-expanded', 'false');
        };

        const handleViewMenuClick = (e) => {
            const button = e.target.closest('.view-mode-button');
            if (button) {
                state.viewMode = button.dataset.viewMode;
                mainRender();
                closeViewMenu();
            }
        };

        
        // --- DEFINIÇÃO DOS DADOS DO IDIOMA ---
        const LANGUAGES = [
            { code: 'pt', name: 'Português', flag: 'https://www.calculadorasdeenfermagem.com.br/bandeira-brasil.webp', url: 'https://www.calculadorasdeenfermagem.com.br/' },
            { code: 'en', name: 'English', flag: 'https://www.calculadorasdeenfermagem.com.br/bandeira-eua.webp', url: 'https://www.calculadorasdeenfermagem.com.br/en/' },
            { code: 'es', name: 'Español', flag: 'https://www.calculadorasdeenfermagem.com.br/bandeira-espanha.webp', url: 'https://www.calculadorasdeenfermagem.com.br/es/' },
            { code: 'de', name: 'Deutsch', flag: 'https://www.calculadorasdeenfermagem.com.br/bandeira-alemanha.webp', url: 'https://www.calculadorasdeenfermagem.com.br/de/' },
            { code: 'it', name: 'Italiano', flag: 'https://www.calculadorasdeenfermagem.com.br/bandeira-italia.webp', url: 'https://www.calculadorasdeenfermagem.com.br/it/' },
            { code: 'fr', name: 'Français', flag: 'https://www.calculadorasdeenfermagem.com.br/bandeira-franca.webp', url: 'https://www.calculadorasdeenfermagem.com.br/fr/' },
            { code: 'fr', name: 'Français', flag: 'https://www.calculadorasdeenfermagem.com.br/bandeira-franca.webp', url: 'https://www.calculadorasdeenfermagem.com.br/fr/' },

            // Demais idiomas em desenvolvimento removidos
        ];


        // --- LÓGICA DO PORTAL / COOKIES / ACESSIBILIDADE ---
        // (Mantido o código de modais e acessibilidade)
        
        // --- INICIALIZAÇÃO E EVENT LISTENERS GLOBAIS ---
        document.addEventListener('DOMContentLoaded', () => {
            
            // --- INICIALIZAÇÃO DA APLICAÇÃO DE CALCULADORAS ---
            renderQuickAccess();
            mainRender();
            updateBreadcrumbs(null);

            // --- LISTENERS DA APLICAÇÃO DE CALCULADORAS ---
            searchInput.addEventListener('input', (e) => {
                state.inputValue = e.target.value;
            });

            searchInput.addEventListener('keydown', (e) => {
                if (e.key === 'Enter') {
                    handleSearch();
                }
            });

            searchButton.addEventListener('click', handleSearch);
            clearButton.addEventListener('click', handleClear);

            // Event listener para fechar o menu Visualizar ao clicar fora
            document.addEventListener("click", (e) => {
                const viewButton = document.getElementById("viewButton");
                const viewMenu = document.getElementById("viewMenu");
                if (viewButton && viewMenu && !viewButton.contains(e.target) && !viewMenu.contains(e.target)) {
                    closeViewMenu();
                }
            });

            // --- LÓGICA DO SELETOR DE IDIOMA COM BANDEIRAS ---
            const button = document.getElementById("langButton");
            const menu = document.getElementById("langMenu");
            const langFlag = document.getElementById("langFlag");
            const langText = document.getElementById("langText");

            if (button && menu) {
                // Popula o menu dinamicamente
                let menuHtml = LANGUAGES.map(lang => `
                    <div 
                        data-value="${lang.code}" 
                        data-flag="${lang.flag}" 
                        data-url="${lang.url}"
                        class="flex items-center gap-2 p-2 cursor-pointer hover:bg-gray-100"
                    >
                        <img src="${lang.flag}" alt="${lang.name} Flag" class="w-6 h-auto rounded-sm border border-gray-300">
                        <span>${lang.name}</span>
                    </div>
                `).join('');
                menu.innerHTML = menuHtml;

                // Abrir/fechar menu
                button.addEventListener("click", () => {
                    menu.classList.toggle("hidden");
                    button.setAttribute('aria-expanded', !menu.classList.contains('hidden'));
                });

                // Fechar ao clicar fora
                document.addEventListener("click", (e) => {
                    if (!button.contains(e.target) && !menu.contains(e.target)) {
                        menu.classList.add("hidden");
                        button.setAttribute('aria-expanded', 'false');
                    }
                });
                
                // Simulação de caminho (já que estamos em um ambiente de arquivo único)
                const pathName = window.location.pathname;
                const fileNameMatch = pathName.match(/[^/]*\.html$/i);
                const currentFileName = fileNameMatch ? fileNameMatch[0] : 'index.html';

                // --- LÓGICA DE REDIRECIONAMENTO (Troca de idioma) ---
                document.querySelectorAll("#langMenu div").forEach(item => {
                    item.addEventListener("click", () => {
                        const value = item.dataset.value;
                        const flag = item.dataset.flag;
                        const text = item.innerText.trim(); // Pega o nome completo
                        const targetUrl = item.dataset.url; // Nova URL de destino

                        langFlag.src = flag;
                        langText.textContent = text;
                        menu.classList.add("hidden");
                        button.setAttribute('aria-expanded', 'false');

                        // Redirecionamento baseado na URL da página inicial do idioma
                        if (targetUrl) {
                            console.log(`Simulando navegação para: ${targetUrl}`);
                            // window.location.href = targetUrl; // Descomentar em produção
                        }
                    });
                });

                // --- DETECÇÃO DO IDIOMA ATUAL (Para mostrar a bandeira correta ao carregar) ---
                const path = window.location.pathname;
                let currentLangCode = 'pt'; // Default Português

                // Adiciona lógica para detectar os novos códigos
                if (path.startsWith("/en/")) currentLangCode = 'en';
                else if (path.startsWith("/es/")) currentLangCode = 'es';
                else if (path.startsWith("/de/")) currentLangCode = 'de';
                else if (path.startsWith("/it/")) currentLangCode = 'it';
                else if (path.startsWith("/fr/")) currentLangCode = 'fr';
                // Outros idiomas em desenvolvimento removidos

                const currentLang = LANGUAGES.find(l => l.code === currentLangCode);
                
                if (currentLang) {
                    langFlag.src = currentLang.flag;
                    langText.textContent = currentLang.name;
                }
            }


            // --- LÓGICA DE MODAIS E COOKIES (GLOBAL) ---
            const suggestToolBtn = document.getElementById('suggest-tool-btn');
            const suggestionModal = document.getElementById('suggestion-modal');
            
            const cookieBanner = document.getElementById('cookie-banner');
            const acceptCookiesBtn = document.getElementById('accept-cookies-btn');
            const declineCookiesBtn = document.getElementById('decline-cookies-btn');
            const manageCookiesBannerBtn = document.getElementById('manage-cookies-banner-btn');
            const manageCookiesFooterBtn = document.getElementById('manage-cookies-footer-btn');
            const cookiePrefsModal = document.getElementById('cookie-prefs-modal');
            const saveCookiePrefsBtn = document.getElementById('save-cookie-prefs-btn');
            const acceptAllCookiesBtn = document.getElementById('accept-all-cookies-btn');
            
            const openModal = (modal) => {
                modal.classList.remove('hidden');
                modal.classList.add('flex');
                window.addEventListener('keydown', closeModalOnEsc);
            };

            const closeModal = (modal) => {
                modal.classList.add('hidden');
                modal.classList.remove('flex');
                window.removeEventListener('keydown', closeModalOnEsc);
            };
            
            const closeModalOnEsc = (e) => {
                if (e.key === 'Escape') {
                    closeModal(suggestionModal);
                    closeModal(cookiePrefsModal);
                }
            };

            document.querySelectorAll('.modal').forEach(modal => {
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        closeModal(modal);
                    }
                });
            });

            document.querySelectorAll('.close-modal-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    closeModal(suggestionModal);
                    closeModal(cookiePrefsModal);
                });
            });

            suggestToolBtn.addEventListener('click', () => openModal(suggestionModal));
            
            manageCookiesBannerBtn.addEventListener('click', () => openModal(cookiePrefsModal));
            manageCookiesFooterBtn.addEventListener('click', () => openModal(cookiePrefsModal));

            const showCookieBanner = () => cookieBanner.classList.add('show');
            const hideCookieBanner = () => cookieBanner.classList.remove('show');

            acceptCookiesBtn.addEventListener('click', () => {
                localStorage.setItem('cookieConsent', 'accepted');
                hideCookieBanner();
            });
            
            acceptAllCookiesBtn.addEventListener('click', () => {
                localStorage.setItem('cookieConsent', 'accepted');
                document.getElementById('cookies-analiticos').checked = true;
                document.getElementById('cookies-marketing').checked = true;
                hideCookieBanner();
                closeModal(cookiePrefsModal);
            });

            declineCookiesBtn.addEventListener('click', () => {
                localStorage.setItem('cookieConsent', 'declined');
                hideCookieBanner();
            });
            
            saveCookiePrefsBtn.addEventListener('click', () => {
                const prefs = {
                    analiticos: document.getElementById('cookies-analiticos').checked,
                    marketing: document.getElementById('cookies-marketing').checked,
                };
                localStorage.setItem('cookieConsent', 'managed');
                localStorage.setItem('cookiePrefs', JSON.stringify(prefs));
                closeModal(cookiePrefsModal);
                hideCookieBanner();
            });

            if (!localStorage.getItem('cookieConsent')) {
                setTimeout(showCookieBanner, 2000); // Mostra o banner após 2 segundos
            }
            
            // --- MÓDULO DE ACESSIBILIDADE (GLOBAL) ---
            class AccessibilityManager {
                constructor() {
                    this.body = document.body;
                    this.html = document.documentElement;
                    this.menu = document.getElementById('accessibility-menu');
                    this.openBtn = document.getElementById('accessibility-btn');
                    this.closeBtn = document.getElementById('close-accessibility-menu');
                    this.resetBtn = document.getElementById('reset-accessibility');
                    
                    this.state = {};
                    this.readingMask = null;
                    this.readingGuide = null;
                    this.init();
                }

                init() {
                    this.openBtn.addEventListener('click', () => this.toggleMenu(true));
                    this.closeBtn.addEventListener('click', () => this.toggleMenu(false));
                    this.resetBtn.addEventListener('click', () => this.resetAll());
                    
                    this.menu.addEventListener('click', (e) => {
                        const target = e.target.closest('.acc-option');
                        if (!target) return;
                        const { action, value } = target.dataset;
                        this.handleAction(action, value);
                    });
                }

                toggleMenu(open) { this.menu.classList.toggle('open', open); }

                handleAction(action, value) {
                    const group = action.replace(/-(\w)/g, (m, p1) => p1.toUpperCase());
                    const isToggle = !value;

                    if (isToggle) { this.state[group] = !this.state[group]; } 
                    else { this.state[group] = this.state[group] === value ? null : value; }

                    const funcName = 'apply' + group.charAt(0).toUpperCase() + group.slice(1);
                    if (typeof this[funcName] === 'function') { this[funcName](this.state[group]); }

                    this.updateActiveState();
                }

                applyFontSize(value) { this.body.style.fontSize = value ? `${value}em` : ''; }
                applyFontType(value) { this.body.classList.toggle('font-serif', value === 'serif'); this.body.classList.toggle('font-bold-force', value === 'bold'); }
                applyLineSpacing(value) { this.body.style.lineHeight = value || ''; }
                applyLetterSpacing(value) { this.body.style.letterSpacing = value ? `${value}em` : ''; }
                applyContrast(value) { this.html.className = this.html.className.replace(/contrast-\w+/g, ''); if(value) this.html.classList.add(`contrast-${value}`); }
                applySaturation(value) { this.html.className = this.html.className.replace(/saturation-\w+/g, ''); if(value) this.html.classList.add(`saturation-${value}`); }
                applyHighlightLinks(active) { this.body.classList.toggle('links-highlighted', active); }
                
                applySiteReader(active) {
                    if (active) { this.body.addEventListener('click', this.readText, true); } 
                    else { this.body.removeEventListener('click', this.readText, true); speechSynthesis.cancel(); }
                }
                
                readText(event) {
                    event.preventDefault(); event.stopPropagation();
                    const text = event.target.textContent || event.target.alt || event.target.ariaLabel;
                    if (text) {
                        speechSynthesis.cancel();
                        const utterance = new SpeechSynthesisUtterance(text);
                        utterance.lang = 'pt-BR';
                        speechSynthesis.speak(utterance);
                    }
                }

                applyReadingMask(active) {
                    if (active && !this.readingMask) {
                        this.readingMask = document.createElement('div'); this.readingMask.id = 'reading-mask'; this.body.appendChild(this.readingMask);
                        document.addEventListener('mousemove', this.updateMaskPosition);
                    } else if (!active && this.readingMask) {
                        this.readingMask.remove(); this.readingMask = null;
                        document.removeEventListener('mousemove', this.updateMaskPosition);
                    }
                }
                
                updateMaskPosition(e) { const maskHeight = 100; document.getElementById('reading-mask').style.clipPath = `polygon(0 ${e.clientY - maskHeight/2}px, 100% ${e.clientY - maskHeight/2}px, 100% ${e.clientY + maskHeight/2}px, 0 ${e.clientY + maskHeight/2}px)`; }

                applyReadingGuide(active) {
                    if (active && !this.readingGuide) {
                        this.readingGuide = document.createElement('div'); this.readingGuide.id = 'reading-guide'; this.body.appendChild(this.readingGuide);
                        document.addEventListener('mousemove', this.updateGuidePosition);
                    } else if (!active && this.readingGuide) {
                        this.readingGuide.remove(); this.readingGuide = null;
                        document.removeEventListener('mousemove', this.updateGuidePosition);
                    }
                }

                updateGuidePosition(e) { document.getElementById('reading-guide').style.top = `${e.clientY}px`; }

                resetAll() {
                    const allActions = new Set(Array.from(this.menu.querySelectorAll('[data-action]')).map(el => el.dataset.action));
                    allActions.forEach(action => {
                        const group = action.replace(/-(\w)/g, (m, p1) => p1.toUpperCase());
                        this.state[group] = null;
                        const funcName = 'apply' + group.charAt(0).toUpperCase() + group.slice(1);
                        if (typeof this[funcName] === 'function') { this[funcName](null); }
                    });
                    this.updateActiveState();
                }
                
                updateActiveState() {
                    this.menu.querySelectorAll('.acc-feature').forEach(feature => {
                        const group = feature.dataset.group;
                        let hasActive = false;
                        feature.querySelectorAll('.acc-option').forEach(option => {
                            const { action, value } = option.dataset;
                            const isActive = value ? this.state[group] === value : !!this.state[group];
                            option.classList.toggle('active', isActive);
                            if (isActive) hasActive = true;
                        });
                        feature.classList.toggle('active', hasActive);
                    });
                }
            }

            new AccessibilityManager();
            
            document.getElementById('libras-btn').addEventListener('click', () => {
                const vw_widget = document.querySelector('[vw-access-button]');
                if (vw_widget) {
                    vw_widget.click();
                }
            });

            const backToTopBtn = document.getElementById('back-to-top-btn');
            backToTopBtn.addEventListener('click', () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
            
            // --- LISTENERS DE CONTROLE DA APLICAÇÃO ---
            // Listener para os Controles (Ordenação, Visualização, Ícones)
            controlsContainer.addEventListener('change', (e) => {
                if (e.target.id === 'sort-select') {
                    state.sortCriteria = e.target.value;
                    mainRender();
                }
                if (e.target.id === 'show-icons-toggle') {
                    state.showIcons = e.target.checked;
                    mainRender();
                }
            });

            // Adiciona listener para a seleção de modo de visualização no dropdown
            const viewButton = document.getElementById("viewButton");
            const viewMenu = document.getElementById("viewMenu");

            if (viewButton && viewMenu) {
                viewButton.addEventListener("click", toggleViewMenu);
                viewMenu.addEventListener("click", handleViewMenuClick);
            }
            
            // Listener principal do #app para cliques em cards, botões e navegação
            document.getElementById('app').addEventListener('click', (e) => {
                const toolCard = e.target.closest('.tool-card, .tool-list-item');
                
                if (toolCard) {
                    // Se o clique foi no botão de ação, não propaga para o card pai
                    if (e.target.closest('.tool-action-button')) {
                        e.stopPropagation();
                    }
                    handleToolClick(toolCard.dataset.toolId);
                }

                // Listener para o Acesso Rápido (para scroll suave)
                const quickAccessLink = e.target.closest('.quick-access-card');
                if (quickAccessLink) {
                    const anchorTarget = quickAccessLink.dataset.anchorTarget;
                    if (anchorTarget && anchorTarget.startsWith('#')) {
                        e.preventDefault();
                        const targetId = anchorTarget.substring(1);
                        // Encontra o header H2 correspondente
                        const targetElement = document.querySelector(`[data-anchor-id="${targetId}"]`);
                        if (targetElement) {
                            targetElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        }
                    } else {
                        console.log(`Navegar para: ${quickAccessLink.href}`);
                    }
                }

                // Listener para o botão "Voltar"
                const backButton = e.target.closest('#back-to-dashboard');
                if (backButton) {
                    toggleDashboard(true);
                }
            });

        });
    </script>
</body>
</html>
